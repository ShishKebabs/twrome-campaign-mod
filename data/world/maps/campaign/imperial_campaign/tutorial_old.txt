;;;;*************************************************************************************************
;;;;	Tutorial progress
;;;;*************************************************************************************************

if I_IsTutorialEnabled;
	declare_prologue;				;;;; ensures only prologue related stuff happens

	suspend_during_battle on;


;;;;*************************************************************************************************
;;;;	Checking to see if the player has captured settlements
;;;;*************************************************************************************************

	declare_counter SegestaCaptured;
	monitor_event GeneralCaptureSettlement FactionType romans_julii
		and SettlementName Segesta

		set_counter SegestaCaptured 1;

		terminate_monitor;
	end_monitor;

;;;;*************************************************************************************************
;;;;	Declare all needed counters at the top of the script to keep track of them better
;;;;*************************************************************************************************

		declare_counter Completed_Camera_Moves;
		declare_counter DeselectActionComplete;
		declare_counter AssaultButtonPressed;
		declare_counter FightButtonPressed;
		declare_counter EnslaveButtonPressed;
		declare_counter SegestaSelected;
		declare_counter governors_house_queued;
		declare_counter GovHouseSelected;
		;;declare_counter ConstructionClosed;
		declare_counter AriminumSelected;
		declare_counter PortSelected;
		declare_counter ArretiumSelected;
		declare_counter RangeSelected;
		declare_counter MilitiaSelected;
		;;declare_counter RecruitmentClosed;
		declare_counter SendAgentPressed;
		declare_counter ListPopulated;
		declare_counter DeciusPressed;
		declare_counter EndDecision;
		declare_counter TutorialEnd;
		declare_counter TutorialContinue;
		declare_counter MediolaniumCaptured;
        declare_counter MediolaniumSelected;
		declare_counter PataviumCaptured;
		declare_counter PressEndTurn;
		declare_counter isPlayerTurn = 1;
		declare_counter FarmSelected;
		declare_counter SenateButtonPressed;
		declare_counter AlertsButtonPressed;
		declare_counter NewsButtonPressed;
		declare_counter ReportsButtonPressed;
		declare_counter AlertsPressed;
		declare_counter MarriageChoice;
		declare_counter FactionButtonPressed;
		declare_counter RetinueHubButtonPressed;
		declare_counter BarbSlaveSelected;
		declare_counter FreeClerkSelected;
		declare_counter RetinueTravelPressed;
		declare_counter CloseDialogPressed;
		declare_counter SettlementDetailsPressed;
		declare_counter TaxIncPressed;
		declare_counter MapOverlayPressed;
		declare_counter OverlayClosed;
		declare_counter MercCavSelected;
		declare_counter ConfirmBtnSelected;
		declare_counter TowerSelected;
		declare_counter NotifierOpened;
		declare_counter NotifierPressed;
		declare_counter RamButtonPressed;
		declare_counter MaintainButtonPressed;
		declare_counter MapDemandPressed;
		declare_counter DiplomacyStarted;
		declare_counter TradeOfferPressed;
		declare_counter MapOfferPressed;
		declare_counter MakeOfferPressed;
		declare_counter PallisadeSelected;
		declare_counter triarii_moved;
		declare_counter hastati_moved;
		declare_counter units_moved;
		declare_counter RoadSelected;
		declare_counter BiremeSelected;
		declare_counter SewerSelected;
		declare_counter QuickListPressed;
		declare_counter QuickListStop;
		declare_counter LastQuickListItemPressed;
		declare_counter AgentTabSelected;
		declare_counter UnitsTabPressed;
		declare_counter BuildingsTabPressed;
		declare_counter AgentsTabPressed;
		declare_counter PataviumSelected;
		declare_counter GnaeusPressed;
		declare_counter PataviumResultButtonPressed;
		declare_counter OccupyButtonPressed;

;;;;*************************************************************************************************
;;;; ACTUAL TUTORIAL NOW STARTS
;;;;*************************************************************************************************

		disable_entire_ui;
		;;disable_cursor;
		disable_all_ui_cards unit;
		disable_all_ui_cards building;
		;;disable_all_ui_cards;
		disable_shortcuts true;
		;;disable_shortcuts select_next_selected true;
		;;disable_shortcuts select_prev_selected true;
		;;disable_shortcuts finances_button true;
		;;disable_shortcuts automerge_units true;
		;;disable_shortcuts capital_zoom true;
		;;disable_shortcuts options_button false;
		inhibit_camera_input true;

		enable_ui campaign_map_pause_button;
		enable_ui advisor_continue;
		enable_ui type_c_advice_left_arrow;
        enable_ui type_c_advice_right_arrow;
		enable_ui type_c_advisor_highlight;
		enable_ui type_c_advisor_button;
		enable_ui wonder_close_button;
		enable_ui tooltip;
		toggle_minimap;
		disable_ui advisor_portrait_button;
		suspend_unscripted_advice true;
		campaign_wait 0.1;
		reposition_character Vibius Julius, 94, 76;
		reposition_character Decius Curtius, 90, 85;
		reposition_character Lugotorix, 94, 90;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 89, 82;
		strat_selection_unblocker settlement on none;
		strat_selection_unblocker character on none;

		campaign_wait 3.5;
		zoom_strat_camera 0.4;
		
		force_autoresolve_outcome romans_julii;
		force_agent_succeed yes;
		force_diplomacy accept, yes;
		ai_active_set off;
		set_marriage_allowed off;

		spawn_army;
			faction slave, sub_faction Gauls;
				character Casticos, general, age 29, , x 83, y 84;
				;;unit		barb cavalry slave			soldiers 0 exp 1 armour 1 weapon_lvl 1;
				unit		barb archer slave			soldiers 0 exp 0 armour 0 weapon_lvl 0;
		end;

		monitor_event ScrollOpened ScrollOpened char_info_scroll;										;;Necessary to fix fbug://RHD-1726
			enable_ui feral_character_details_button;
			terminate_monitor;
		end_monitor;

;;;;*************************************************************************************************
;;;; QUICK ACCESS TO THE MEDIOLANUM BATTLE
;;;;*************************************************************************************************

		;;enable_entire_ui;
		;;inhibit_camera_input false;
		;;clear_restrict_strat_movement;
		;;clear_strat_selection_unblocker;
		;;reposition_character Flavius Julius, 83, 91;
		;;declare_counter PressEndTurn;
		;;monitor_event ButtonPressed ButtonPressed end_turn
		;;	set_counter	PressEndTurn 1;
		;;	terminate_monitor;
		;;end_monitor;
		;;while I_CompareCounter PressEndTurn = 0
		;;end_while;
		;;declare_counter isPlayerTurn = 1;
		;;monitor_event FactionTurnEnd FactionType romans_julii;
		;;	set_counter isPlayerTurn 0;
		;;end_monitor;
		;;while  I_IsPlayerTurn = 1;
		;;end_while;
		;;monitor_event FactionTurnStart FactionType romans_julii;
		;;	set_counter isPlayerTurn 1;
		;;end_monitor;
		;;while I_IsPlayerTurn = 0;
		;;end_while;
		;;campaign_wait 1;
		;;spawn_army;
		;;	faction romans_julii;
		;;		character Herius, general, age 29, , x 83, y 91;
		;;		unit		merc barbarian cavalry		soldiers 0	exp 1 armour 1 weapon_lvl 1;
		;;		unit		roman onager			soldiers 0 exp 1 armour 1 weapon_lvl 1;
		;;end;
		;;declare_counter MedFightButtonPressed;
		;;monitor_event ButtonPressed ButtonPressed prebattle_fight_button;
		;;set_counter MedFightButtonPressed 1;
		;;	terminate_monitor;
		;;end_monitor;
		;;while I_CompareCounter MedFightButtonPressed = 0;
		;;end_while;
		;;set_counter MedFightButtonPressed 0;
		;;inhibit_camera_input false;
		;;ui_flash_stop prebattle_fight_button;
		;;disable_ui advisor_zoom_to_button;
		;;include_script battle_mediolanum.txt;
		;;while I_CompareCounter MediolaniumCaptured = 0;
		;;end_while;
;;;;*************************************************************************************************
;;;; END
;;;;*************************************************************************************************


;;;;*************************************************************************************************
;;;; QUICK ACCESS TO THE ASSASSINATION
;;;;*************************************************************************************************
		;;spawn_character romans_julii Gnaeus Chaerea, assassin, command 0, influence 0, management 0, subterfuge 3, age 20, x 95, y 89;
		;;reposition_character Decius Curtius, 93, 90;
		;;inhibit_camera_input false;
		;;;;strat_selection_unblocker character on Gnaeu Chaerea;
		;;;;strat_selection_unblocker settlement on Patavium;
		;;point_at_settlement Patavium;																					;; Highlighter around Mediolanium
		;;monitor_event EnemySettlementSelected SettlementName Patavium;

		;;	set_counter PataviumSelected 1;

		;;	if I_CompareCounter DeselectActionComplete = 1;
        ;;        terminate_monitor;
        ;;    end_if;
		;;end_monitor;
		;;while I_CompareCounter PataviumSelected = 0;																	;; Player left-click on the highlighted Settlement
		;;end_while;
		;;set_counter PataviumSelected 0;
		;;stop_all_point_at_indicators;
		;;enable_ui send_agent_button;																					;; TODO RHD-1074
		;;ui_flash_start send_agent_button;
		;;set_counter SendAgentPressed 0;
		;;monitor_event ButtonPressed ButtonPressed send_agent_button;													;; Player left-click on Send New Agents button
		;;	ui_flash_stop send_agent_button;
		;;	set_counter SendAgentPressed 1;
		;;	if I_CompareCounter DeselectActionComplete = 1;
        ;;        terminate_monitor;
        ;;    end_if;
		;;end_monitor;
		;;set_counter ListPopulated 0;
		;;monitor_event AgentListPopulated TrueCondition;
		;;	disable_agent_hub_all Agent;
		;;	enable_agent_hub Agent, Gnaeus Chaerea;
		;;	point_at_agent_hub Agent, Gnaeus Chaerea;
		;;	set_counter ListPopulated 1;
		;;	if I_CompareCounter DeselectActionComplete = 1;
        ;;        terminate_monitor;
        ;;    end_if;
		;;end_monitor;
		;;while I_CompareCounter SendAgentPressed = 0;															;; Player left-click on the highlighted button
		;;end_while;																								;; Next advice triggered
		;;set_counter SendAgentPressed 0;
		;;point_at_agent_hub Agent, Gnaeus Chaerea;

		;;monitor_event AgentSelected CharacterName Gnaeus Chaerea;
		;;	set_counter GnaeusPressed 1;
		;;	disable_agent_hub_all Mission;
		;;	;;enable_agent_hub Mission 4;
		;;	enable_agent_hub Named_Mission, Assassinate Lugotorix;
		;;	if I_CompareCounter DeselectActionComplete = 1;
        ;;        terminate_monitor;
        ;;    end_if;
		;;end_monitor;
		;;while I_CompareCounter GnaeusPressed = 0;															;; Player left-click on the highlighted button
		;;end_while;																									;; Next advice triggered
		;;set_counter GnaeusPressed 0;
		;;disable_agent_hub_all Mission;
		;;;;enable_agent_hub Mission 4;
		;;enable_agent_hub Named_Mission, Assassinate Lugotorix;
		;;point_at_agent_hub Named_Mission, Assassinate Lugotorix;
		;;while I_CompareCounter ListPopulated = 0;
		;;end_while;


		;;monitor_event MissionSelected TrueCondition;
		;;	disable_agent_hub_all Mission;
		;;	;;enable_agent_hub Mission 4;
		;;	enable_agent_hub Named_Mission, Assassinate Lugotorix;
		;; 	enable_ui send_agent_button;
		;;	ui_flash_start send_agent_button;
		;;	set_counter DeselectActionComplete 1;
        ;;	force_deselect_trigger;
		;;	campaign_wait 0.1;
		;;end_monitor;

		;;while I_CharacterCanMove Lugotorix;
		;;end_while;
		;;campaign_wait 1;
		;;;;strat_selection_unblocker settlement off Patavium;
		;;disable_ui send_agent_button;
		;;disable_ui confirm_agent_button;
		;;ui_flash_stop confirm_agent_button;
		;;deselect_current_selection;
		;;campaign_wait 1;

;;;;*************************************************************************************************
;;;; END
;;;;*************************************************************************************************


		;;Introduction to Victoria (Advisor)

		advance_advice_thread Introduction_Victoria; 																;; Message displayed in Victoria's panel
		campaign_wait 1;
		while I_AdvisorSpeechPlaying;
		end_while;
		ui_flash_start advisor_continue;																		;; Highlighter around Continue button
		while I_AdvisorVisible;																						;; Player left-click on the highlighted button
		end_while;																									;; Next advice triggered
		ui_flash_stop advisor_continue;
		campaign_wait 1;
		zoom_strat_camera 0.7;

		



		;;Introduction to Rome and the Sons of Mars

    	campaign_wait 1;

    	move_to_settlement Rome;																					 ;;Camera moves and centre Rome
    	zoom_strat_camera 0.3;
    	campaign_wait 2;
    	advance_advice_thread Sons_of_Mars_and_Rome_1; 																;; Message 1/3 displayed in Victoria's panel
    	campaign_wait 1;
    	settlement_flash_start Rome;
    	;;point_at_settlement Rome;
    	while I_AdvisorSpeechPlaying;
    	end_while;
    	ui_flash_start advisor_continue;																		;; Highlighter around Continue button on Advisor panel
    	while I_AdvisorVisible;																						;; Player left-click on the highlighted button
    	end_while;																									;; Next advice triggered
    	ui_flash_stop advisor_continue;
    	settlement_flash_stop Rome;
    	stop_all_point_at_indicators;
    	move_to_settlement Arretium;
    	zoom_strat_camera 0.5;
    	advance_advice_thread Sons_of_Mars_and_Rome_2;																;; Message 2/3 displayed in Victoria's panel
    	campaign_wait 1;
    	while I_AdvisorSpeechPlaying;
    	end_while;
    	ui_flash_start advisor_continue;																		;; Highlighter around Continue button on Advisor panel
    	while I_AdvisorVisible;																						;; Player left-click on the highlighted button
    	end_while;																									;; Next advice triggered
    	ui_flash_stop advisor_continue;
    	campaign_wait 1;

    	advance_advice_thread Sons_of_Mars_and_Rome_3;																;; Message 3/3 displayed in Victoria's panel
    	campaign_wait 1;
    	zoom_strat_camera 0.9;
    	while I_AdvisorSpeechPlaying;
    	end_while;
    	ui_flash_start advisor_continue;																		;; Highlighter around Continue button on Advisor panel
    	while I_AdvisorVisible;																						;; Player left-click on the highlighted button
    	end_while;																									;; Next advice triggered
    	ui_flash_stop advisor_continue;
    	campaign_wait 1;




		;;Introduction to Campaign Map & Goals
		disable_shortcuts camera::step_l false;
		disable_shortcuts camera::rot_l false;
		disable_shortcuts camera::step_r false;
		disable_shortcuts camera::rot_r false;
		disable_shortcuts camera::step_fwd false;
		disable_shortcuts camera::step_bck false;
		disable_shortcuts camera::mousescr_out false;
		disable_shortcuts camera::mousescr_up false;
    	campaign_wait 1;
    	advance_advice_thread Campaign_Map_Basics_1_type_b;																;; Message displayed in Victoria's panel
    	inhibit_camera_input false;

		monitor_event ShortcutTriggered ShortcutTriggered camera::step_l;
			inc_counter Completed_Camera_Moves 1;
			terminate_monitor;
		end_monitor;

		monitor_event ShortcutTriggered ShortcutTriggered camera::rot_l;
			inc_counter Completed_Camera_Moves 1;
			terminate_monitor;
		end_monitor;

		monitor_event ShortcutTriggered ShortcutTriggered camera::step_r;
			inc_counter Completed_Camera_Moves 1;
			terminate_monitor;
		end_monitor;

		monitor_event ShortcutTriggered ShortcutTriggered camera::rot_r;
			inc_counter Completed_Camera_Moves 1;
			terminate_monitor;
		end_monitor;

		monitor_event ShortcutTriggered ShortcutTriggered camera::step_fwd;
			inc_counter Completed_Camera_Moves 1;
			terminate_monitor;
		end_monitor;

		monitor_event ShortcutTriggered ShortcutTriggered camera::step_bck;
			inc_counter Completed_Camera_Moves 1;
			terminate_monitor;
		end_monitor;

		monitor_event ShortcutTriggered ShortcutTriggered camera::mousescr_out;
			inc_counter Completed_Camera_Moves 1;
			terminate_monitor;
		end_monitor;

		monitor_event ShortcutTriggered ShortcutTriggered camera::mousescr_up;
			inc_counter Completed_Camera_Moves 1;
			terminate_monitor;
		end_monitor;


		while I_CompareCounter Completed_Camera_Moves <= 3;
		end_while;
    	campaign_wait 1;
    	while I_AdvisorSpeechPlaying;
    	end_while;
    	campaign_wait 1;
    	;;disable_shortcuts select_next_selected true;
		;;disable_shortcuts select_prev_selected true;


		;;Mission assigned: Select an army
		senate_mission_take_city one_triarii, Segesta;
		advance_advice_thread New_Mission_Assigned_1;																;; Message displayed in Victoria's panel
				enable_ui show_senate_mission_tab;
		ui_flash_start show_senate_mission_tab;																							;; Highlighter around Senate Notification tab
		monitor_event ButtonPressed ButtonPressed show_senate_mission_tab;
			set_counter	SenateButtonPressed 1;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter SenateButtonPressed = 0;
		end_while;
		ui_flash_stop show_senate_mission_tab;
		set_counter	SenateButtonPressed 0;
		
		ui_flash_start advisor_continue;																		;; Highlighter around Continue button on Advisor panel
    	while I_AdvisorVisible;																						;; Player left-click on the highlighted button
    	end_while;																									;; Next advice triggered
    	ui_flash_stop advisor_continue;
    	campaign_wait 1;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1;
		move_to_settlement Segesta;																					;; Camera pans to Segesta
		campaign_wait 1;
		settlement_flash_start Segesta;																				;; Highlighter around Segesta
		;;point_at_settlement Segesta;
		zoom_strat_camera 0.2;
		campaign_wait 1;
		enable_cursor;
		inhibit_camera_input false;
		enable_ui show_senate_mission_tab;
		ui_flash_start show_senate_mission_tab;																							;; Highlighter around Senate Notification tab
		monitor_event ButtonPressed ButtonPressed show_senate_mission_tab;
			set_counter	SenateButtonPressed 1;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter SenateButtonPressed = 0;
		end_while;
		ui_flash_stop show_senate_mission_tab;
		set_counter	SenateButtonPressed 0;
		while I_AdvisorSpeechPlaying;
		end_while;
		stop_all_point_at_indicators;

		campaign_wait 1;
		

		;;Attack Segesta and force player to fight

		monitor_event ItemDeselected TrueCondition;
			if I_CompareCounter DeselectActionComplete = 1;
				set_counter DeselectActionComplete 0;
				terminate_monitor;
			end_if;
			goto labelOne;
		end_monitor;

		advance_advice_thread How_To_Attack_A_Settlement_1_type_b;													;; Message displayed in Victoria's panel
		settlement_flash_stop Segesta;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1.5;
		move_strat_camera 86, 84;																					;; Camera pans to Army with faction leader
		strat_selection_unblocker character on Flavius Julius;
		set_label labelOne;
		character_flash_start Flavius Julius;
		point_at_character, slot 0, Flavius Julius;																				;; Highlighter around Army to select
		campaign_wait 1.5;
		enable_cursor;
		inhibit_camera_input false;
		while_not I_CharacterSelected Flavius Julius;																;; Player left click on the highlighted army
		end_while;
		point_at_strat_position, slot 0, 83, 84;																				;; Highlighter around Segesta
		;;while I_AdvisorSpeechPlaying;
		;;end_while;																									;; Next advice triggered
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 89, 82;
		restrict_strat_movement romans_julii, 83, 84;
		while_not I_CharacterTypeNearTile romans_julii named_character, 1.45, 83 ,84;											;; Player right click on the highlighted settlement
		end_while;
		set_counter DeselectActionComplete 1;
		force_deselect_trigger;
		stop_all_point_at_indicators;


		;;Siege overview screen

		monitor_event ScrollOpened ScrollOpened seige_scroll;

			enable_ui strat_ui;
			enable_ui campaign_hud;
			enable_ui siege_assault_button;
			ui_flash_start siege_assault_button;																	;; Highlighter around Assault button
			disable_ui siege_maintain_button;
			disable_ui siege_end_button;
			disable_ui siege_equipment_icon_ram;
			disable_ui siege_equipment_icon_ladder;
			disable_ui siege_equipment_icon_siege_tower;
			disable_ui siege_equipment_icon_sap_points;
			advance_advice_thread Siege_Overview_1_type_b;																	;; Message displayed in Victoria's panel
			terminate_monitor;
		end_monitor;


		monitor_event ButtonPressed ButtonPressed siege_assault_button;

		set_counter AssaultButtonPressed 1;

			terminate_monitor;
		end_monitor;


		while I_CompareCounter AssaultButtonPressed = 0;															;; Player left-click on the highlighted button
		end_while;																									;; Next advice triggered
		set_counter AssaultButtonPressed 0;



		;;Battle details  (See Segesta battle tutorial)


		monitor_event ScrollOpened ScrollOpened prebattle_scroll;
			enable_ui prebattle_fight_button;
			disable_ui prebattle_auto_resolve_button;
			disable_ui prebattle_withdraw_button;
			ui_flash_stop siege_assault_button;
			ui_flash_start prebattle_fight_button;															;; Highlighter around Fight button
			advance_advice_thread Battle_Details_1_type_b;																	;; Message displayed in Victoria's panel
			terminate_monitor;
		end_monitor;

		monitor_event ButtonPressed ButtonPressed prebattle_fight_button;
		;;monitor_event ButtonPressed ButtonPressed prebattle_auto_resolve_button;
		set_counter FightButtonPressed 1;

			terminate_monitor;
		end_monitor;

		while I_CompareCounter FightButtonPressed = 0;
		end_while;
		set_counter FightButtonPressed 0;

		ui_flash_stop prebattle_fight_button;
		disable_ui stop_tutorial_button;


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; SEGESTA BATTLE
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

		include_script battle_segesta.txt;

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; SEGESTA BATTLE
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;



;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; POST-BATTLE TURN 1
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;



		;; Victory
		while I_InBattle TrueCondition;
		end_while;
		disable_entire_ui;
		enable_ui post_battle_scroll;
		enable_ui post_battle_stats_show_results_button;
		disable_all_ui_cards unit;
		disable_all_ui_cards building;
		disable_ui agent_confirm_button;
		enable_ui campaign_map_pause_button;
		enable_ui advisor_continue;
		enable_ui type_c_advisor_highlight;
		enable_ui type_c_advisor_button;
		enable_ui wonder_close_button;
		enable_ui stop_tutorial_button;
		disable_shortcuts true;
		disable_shortcuts camera::step_l false;
		disable_shortcuts camera::rot_l false;
		disable_shortcuts camera::step_r false;
		disable_shortcuts camera::rot_r false;
		disable_shortcuts camera::step_fwd false;
		disable_shortcuts camera::step_bck false;
		disable_shortcuts camera::mousescr_out false;
		disable_shortcuts camera::mousescr_up false;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 83, 84;
		campaign_wait 1;
		inhibit_camera_input true;
		deselect_current_selection;

		



		;;Explain Occupy, enslave and exterminate

		monitor_event ButtonPressed ButtonPressed loot_settlement_enslave_button;

			set_counter EnslaveButtonPressed 1;

			terminate_monitor;
		end_monitor;
		monitor_event ScrollOpened ScrollOpened loot_settlement_scroll;
			disable_ui loot_settlement_occupy_button;
			disable_ui loot_settlement_enslave_button;
			disable_ui loot_settlement_extermintate_button;

			advance_advice_thread What_Now_1_type_b;																					;; Message (1st, 2nd, 3rd and 4th paragraphs) displayed in Victoria's panel

			enable_ui loot_settlement_enslave_button;
			ui_flash_start loot_settlement_enslave_button;
			terminate_monitor;																									;; TODO 5th paragraph needs to be split from the audio file
		end_monitor;
		campaign_wait 0.5;

		while I_CompareCounter EnslaveButtonPressed = 0;																		;; Player left click on the highlighted button
		end_while;
		ui_flash_stop loot_settlement_enslave_button;
		set_counter EnslaveButtonPressed 0;
		campaign_wait 1;



		advance_advice_thread Congratulations_1;
		while I_AdvisorSpeechPlaying;
		end_while;
		ui_flash_start advisor_continue;																					;; Highlighter around Continue button
		while I_AdvisorVisible;
		end_while;
		ui_flash_stop advisor_continue;
		zoom_strat_camera 0.2;
		strat_selection_unblocker character off Flavius Julius;
		strat_selection_unblocker settlement on Segesta;

		monitor_event ItemDeselected TrueCondition;
			if I_CompareCounter DeselectActionComplete = 1;
				set_counter DeselectActionComplete 0;
				terminate_monitor;
			end_if;
			disable_ui open_construction_options;
			goto labelTwo;
		end_monitor;

		set_label labelTwo;
		advance_advice_thread What_Now_2_type_b;
		;;while I_AdvisorSpeechPlaying;
		;;end_while;
		point_at_settlement Segesta;


		monitor_event SettlementSelected SettlementName Segesta;
			set_counter SegestaSelected 1;
			if I_CompareCounter DeselectActionComplete = 1;
				terminate_monitor;
			end_if;

		end_monitor;

		while I_CompareCounter SegestaSelected = 0;
		end_while;
		set_counter SegestaSelected 0;
		force_settlement_tab buildings; 
		;;settlement_flash_stop Segesta;
		stop_all_point_at_indicators;




		;;Settlement overview with help overlay
		advance_advice_thread Controlling_Your_Empire_1;																		;; Message displayed in Victoria's panel
		disable_ui view_settlement;
		disable_ui make_capital;
		campaign_wait 1;
		ui_flash_start advisor_continue;																						;; Highlighter around Continue button
		while I_AdvisorVisible;																									;;Player free to look around in the settlement menu.
		end_while;
		ui_flash_stop advisor_continue;
		campaign_wait 1;
		;;zoom_strat_camera 0.2;





		;;Tutorial Resumes: Build Governor's House in Segesta
		advance_advice_thread Construction_Basics_1_type_b;																			;; Message displayed in Victoria's panel
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 0.2;
		move_to_settlement Segesta;	
		campaign_wait 0.2;
		enable_cursor;
		inhibit_camera_input false;
		;;while I_AdvisorSpeechPlaying;
		;;end_while;
		enable_ui open_construction_options;
		ui_flash_start open_construction_options;
		monitor_event ConstructionPopulated TrueCondition;
			if I_CompareCounter governors_house_queued = 1;
				terminate_monitor;
			end_if;
			
			ui_flash_stop open_construction_options;
			disable_all_ui_cards construction;
			point_at_card construction governors_house;																		;; Highlighter around Governor's house button
			enable_ui_card construction governors_house;
			advance_advice_thread Lets_Build_1_type_b;
			if I_CompareCounter DeselectActionComplete = 1;
				terminate_monitor;
			end_if;
		end_monitor;
		campaign_wait 0.2;

		monitor_event ConstructionItemClicked ConstructionItemClicked governors_house;
			stop_all_point_at_indicators;
			disable_all_ui_cards construction;
			set_counter GovHouseSelected 1;
			set_counter governors_house_queued 1;

			if I_CompareCounter DeselectActionComplete = 1;
				terminate_monitor;
			end_if;
		end_monitor;

		while I_CompareCounter GovHouseSelected = 0;
		end_while;
		disable_all_ui_cards construction;
		disable_all_ui_cards construction;
		disable_ui open_construction_options;
		ui_flash_stop open_construction_options;
		set_counter DeselectActionComplete 1;
		force_deselect_trigger;
		campaign_wait 2;

		;;Build Port in Ariminum (economic structure)

		monitor_event ItemDeselected TrueCondition;
			if I_CompareCounter DeselectActionComplete = 1;
				set_counter DeselectActionComplete 0;
				terminate_monitor;
			end_if;
			goto labelThree;
		end_monitor;

		deselect_current_selection;
		advance_advice_thread Economic_Buildings_1_type_b;																	;; Message displayed (first paragraph) in Victoria's panel TODO needs to be split
		campaign_wait 1;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1.5;
		zoom_strat_camera 0.5;
		move_to_settlement Ariminum;																						;; Camera pans to Ariminum
		campaign_wait 1;
		set_label labelThree;
		strat_selection_unblocker settlement off Segesta;
		strat_selection_unblocker settlement on Ariminum;																				;; Highlighter around Ariminum
		point_at_settlement Ariminum;
		campaign_wait 0.1;
		enable_cursor;
		inhibit_camera_input false;
		monitor_event SettlementSelected SettlementName Ariminum;
			if I_CompareCounter DeselectActionComplete = 1;
				terminate_monitor;
			end_if;
			set_counter AriminumSelected 1;
		end_monitor;

		while I_CompareCounter AriminumSelected = 0;																		;; Player left click on the highlighted Settlement
		end_while;
		set_counter AriminumSelected 0;
		stop_all_point_at_indicators;
		enable_ui open_construction_options;
		ui_flash_start open_construction_options;																			;; Highlighter around Construct button in settlement overview
		monitor_event ConstructionPopulated TrueCondition;																	;; Player left click on the highlighted button
			if I_CompareCounter DeselectActionComplete = 1;
				terminate_monitor;
			end_if;
			ui_flash_stop open_construction_options;
			point_at_card construction port;																				;; Highlighter around Port button in the list of the available construction
			disable_all_ui_cards construction;
			enable_ui_card construction port;
			disable_ui open_recruitement_options;
		end_monitor;

		monitor_event ConstructionItemClicked ConstructionItemClicked port;
			set_counter PortSelected 1;
			stop_all_point_at_indicators;
			disable_all_ui_cards construction;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter PortSelected = 0;																			;; Player left click on the highlighted item
		end_while;
		disable_all_ui_cards construction;
		disable_ui open_construction_options;
		ui_flash_stop open_construction_options;
		set_counter DeselectActionComplete 1;
		force_deselect_trigger;
		campaign_wait 2;
		deselect_current_selection;
		strat_selection_unblocker settlement off Ariminum;
		campaign_wait 1;




		;;Build Practice Range in Arretium (military structure)

		monitor_event ItemDeselected TrueCondition;
			if I_CompareCounter DeselectActionComplete = 1;
				set_counter DeselectActionComplete 0;
				terminate_monitor;
			end_if;
			goto labelFour;
		end_monitor;


		advance_advice_thread Military_Buildings_1_type_b;																	;; Message displayed in Victoria's panel
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 0.5;
		move_to_settlement Arretium;																						;; Camera pans to Arretium
		strat_selection_unblocker settlement on Arretium;
		;;settlement_flash_start Arretium;																					;; Highlighter around Arretium
		set_label labelFour;
		point_at_settlement Arretium;
		campaign_wait 0.2;
		enable_cursor;
		inhibit_camera_input false;
		strat_selection_unblocker settlement off Ariminum;
		strat_selection_unblocker settlement on Arretium;
		monitor_event SettlementSelected SettlementName Arretium;
			if I_CompareCounter DeselectActionComplete = 1;
				terminate_monitor;
			end_if;
			set_counter ArretiumSelected 1;
		end_monitor;
		while I_CompareCounter ArretiumSelected = 0;																		;; Player left click on the highlighted Settlement
		end_while;
		set_counter ArretiumSelected 0;
		campaign_wait 0.2;
		;;settlement_flash_stop Arretium;
		stop_all_point_at_indicators;
		enable_ui open_construction_options;
		ui_flash_start open_construction_options;																			;; Highlighter around Construct button in settlement overview
		monitor_event ConstructionPopulated TrueCondition;																	;; Player left click on the highlighted button
			if I_CompareCounter DeselectActionComplete = 1;
				terminate_monitor;
			end_if;
			ui_flash_stop open_construction_options;
			point_at_card construction practice_field;																		;; Highlighter around Practice Range button in the list of the available constructions
			disable_all_ui_cards construction;
			;;disable_ui open_recruitement_options;
			enable_ui_card construction practice_field;
		end_monitor;
		campaign_wait 0.2;

		monitor_event ConstructionItemClicked ConstructionItemClicked practice_field;
			stop_all_point_at_indicators;
			set_counter RangeSelected 1;
			disable_all_ui_cards construction;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter RangeSelected = 0;																			;; Player left click on the highlighted item
		end_while;
		disable_all_ui_cards construction;
		disable_ui open_construction_options;
		ui_flash_stop open_construction_options;
		set_counter DeselectActionComplete 1;
		force_deselect_trigger;
		campaign_wait 1;
		deselect_current_selection;
		campaign_wait 1;






		;;Recruit town watch in Arretium

		monitor_event ItemDeselected TrueCondition;
			if I_CompareCounter DeselectActionComplete = 1;
				set_counter DeselectActionComplete 0;
				terminate_monitor;
			end_if;
			goto labelFive;
		end_monitor;


		advance_advice_thread Settlements_And_Garrisons_1_type_b;																	;; Message displayed in Victoria's panel
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 0.1;
		move_to_settlement Arretium;																						;; Camera pans to Arretium
		;;settlement_flash_start Arretium;																					;; Highlighter around Arretium
		set_label labelFive;
		point_at_settlement Arretium;
		campaign_wait 0.1;
		enable_cursor;
		inhibit_camera_input false;
		monitor_event SettlementSelected SettlementName Arretium;
			if I_CompareCounter DeselectActionComplete = 1;
				terminate_monitor;
			end_if;
			set_counter ArretiumSelected 1;
		end_monitor;
		while I_CompareCounter ArretiumSelected = 0;																		;; Player left click on the highlighted Settlement
		end_while;
		;;settlement_flash_stop Arretium;
		stop_all_point_at_indicators;
		set_counter ArretiumSelected 0;
		enable_ui open_recruitement_options;
		ui_flash_start open_recruitement_options;																			;; Highlighter around Recruitment button
		campaign_wait 1;
		monitor_event RecruitmentPopulated TrueCondition;																	;; Player left click on the highlighted button
			ui_flash_stop open_recruitement_options;
			point_at_card recruitment, roman city militia;																	;; Highlighter around Town Watch unit
			disable_all_ui_cards recruitment;
			enable_ui_card recruitment, roman city militia;
		end_monitor;
		campaign_wait 1;


		monitor_event RecruitmentItemClicked RecruitmentItemClicked roman city militia;
			stop_all_point_at_indicators;
			set_counter MilitiaSelected 1;
			disable_all_ui_cards recruitment;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter MilitiaSelected = 0;																			;; Player left click on the highlighted unit
		end_while;
		set_counter MilitiaSelected 0;
		set_counter DeselectActionComplete 1;
		disable_all_ui_cards recruitment;
		force_deselect_trigger;
		campaign_wait 1;
		disable_ui open_recruitement_options;
		ui_flash_stop open_recruitement_options;
		campaign_wait 1;
		deselect_current_selection;
		strat_selection_unblocker settlement off Arretium;



		;;Explain new "send Agent' panel
		campaign_wait 1;

		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1;
		move_strat_camera 90, 85;
		zoom_strat_camera 0.1;
		campaign_wait 0.5;
		enable_cursor;
		inhibit_camera_input false;
		;;advance_advice_thread Send_Agent_Panel_1_type_b;
		advance_advice_thread Send_Agent_Panel_1;
		character_flash_start Decius Curtius;

		;;point_at_character Decius Curtius;
		;;strat_selection_unblocker character on Decius Curtius;
		;;while_not I_CharacterSelected Decius Curtius;
		;;end_while;
		campaign_wait 1;
		stop_all_point_at_indicators;
		while I_AdvisorSpeechPlaying;
		end_while;
		character_flash_stop Decius Curtius;
		ui_flash_start advisor_continue;																						;; Highlighter around Continue button
		while I_AdvisorVisible;																									;;Player free to look around in the settlement menu.
		end_while;
		ui_flash_stop advisor_continue;
		campaign_wait 1;
		zoom_strat_camera 0.4;



		;;Send Spy to Mediolanium

		monitor_event ItemDeselected TrueCondition;
			if I_CompareCounter DeselectActionComplete = 1;
				set_counter DeselectActionComplete 0;
				terminate_monitor;
			end_if;
			point_at_settlement Mediolanium;
			goto labelSix;
		end_monitor;

		deselect_current_selection;
		
		strat_selection_unblocker settlement on Mediolanium;
		disable_agent_hub_all Mission;
		point_at_settlement Mediolanium;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 0.1;
		move_strat_camera 86, 90;
		advance_advice_thread Send_Agent_Panel_2_type_b;
		set_label labelSix;
		campaign_wait 0.1;
		enable_cursor;
		inhibit_camera_input false;
		strat_selection_unblocker character off Decius Curtius;
		strat_selection_unblocker settlement on Mediolanium;
		

		
		
		enable_ui send_agent_button;
		ui_flash_start send_agent_button;

		monitor_event ButtonPressed ButtonPressed send_agent_button;
			if I_CompareCounter DeselectActionComplete = 1;
				terminate_monitor;
			end_if;
			stop_all_point_at_indicators;
			ui_flash_stop send_agent_button;
			set_counter SendAgentPressed 1;
		end_monitor;
		monitor_event AgentListPopulated TrueCondition;
			if I_CompareCounter DeselectActionComplete = 1;
				terminate_monitor;
			end_if;
			disable_agent_hub_all Agent;
			enable_agent_hub Agent, Decius Curtius;
			point_at_agent_hub Agent, Decius Curtius;
			set_counter ListPopulated 1;
		end_monitor;
		while I_CompareCounter SendAgentPressed = 0;															;; Player left-click on the highlighted button
		end_while;																								;; Next advice triggered
		set_counter SendAgentPressed 0;
		point_at_agent_hub Agent, Decius Curtius;

		monitor_event AgentSelected CharacterName Decius Curtius;
			if I_CompareCounter DeselectActionComplete = 1;
				terminate_monitor;
			end_if;
			set_counter DeciusPressed 1;
			disable_agent_hub_all Agent;
			enable_agent_hub Agent, Decius Curtius;
		end_monitor;
		while I_CompareCounter DeciusPressed = 0;															;; Player left-click on the highlighted button
		end_while;																									;; Next advice triggered
		set_counter DeciusPressed 0;
		disable_agent_hub_all Mission;
		enable_agent_hub Named_Mission, Mediolanium;
		point_at_agent_hub Named_Mission, Mediolanium;
		while I_CompareCounter ListPopulated = 0;
		end_while;

		monitor_event MissionSelected TrueCondition;
			if I_CompareCounter DeselectActionComplete = 1;
				terminate_monitor;
			end_if;
			disable_agent_hub_all Mission;
			enable_agent_hub Named_Mission, Mediolanium;
			ui_flash_start send_agent_button;
			clear_restrict_strat_movement;
			restrict_strat_movement romans_julii, 90, 85;
			restrict_strat_movement romans_julii, 84, 92;
			campaign_wait 0.1;
		end_monitor;
		while_not I_CharacterNameNearTile romans_julii, Decius Curtius, 1.45 84,92;
		end_while;
		set_counter DeselectActionComplete 1;
		force_deselect_trigger;
		campaign_wait 1;
		disable_ui send_agent_button;
		ui_flash_stop confirm_agent_button;
		stop_all_point_at_indicators;
		strat_selection_unblocker character off Decius Curtius;
		strat_selection_unblocker settlement off Mediolanium;
		campaign_wait 6;
		deselect_current_selection;





		;;unblock everything so that the game can still be tested from here onwards.
		strat_selection_unblocker character off none;
		strat_selection_unblocker settlement off none;

		;;END OF TUTORIAL MESSAGE HERE
		monitor_event ButtonPressed ButtonPressed tutorial_continue_button;
			set_counter TutorialEnd 1;
			set_counter EndDecision 1;
			terminate_monitor;
		end_monitor;

		monitor_event ButtonPressed ButtonPressed tutorial_end_button;
			;;set_counter TutorialContinue 1;
			set_counter EndDecision 1;
			terminate_monitor;
		end_monitor;

		enable_ui tutorial_confirmation_dialog;
		open_stop_tutorial_confirmation_dialog;
		monitor_event ScrollOpened ScrollOpened tutorial_confirmation_dialog;
			enable_ui tutorial_end_button;
			enable_ui tutorial_continue_button;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter EndDecision = 0;
		end_while;

		if I_CompareCounter TutorialEnd = 1;
			enable_entire_ui;
			suspend_unscripted_advice false;
			inhibit_camera_input false;
			disable_shortcuts false;
			clear_restrict_strat_movement;
			clear_strat_selection_unblocker;
			set_marriage_allowed on;
			force_autoresolve_outcome no;
			force_agent_succeed no;
			force_diplomacy accept, no;
			ai_active_set on;
			terminate_prologue;
			terminate_script;
		end_if;

;;if I_CompareCounter TutorialContinue = 1;																					;; not used anymore					
;;;;*************************************************************************************************
;;;; ADVANCED TUTORIAL NOW STARTS
;;;;*************************************************************************************************

;;;;*************************************************************************************************
;;;		Stopping the tutorial
;;;;*************************************************************************************************

		monitor_event ButtonPressed ButtonPressed stop_tutorial_button;

			enable_entire_ui;
			stop_all_point_at_indicators;
			suspend_unscripted_advice false;
			inhibit_camera_input false;
			clear_restrict_strat_movement;
			clear_strat_selection_unblocker;
			set_marriage_allowed on;
			force_autoresolve_outcome no;
			force_agent_succeed no;
			force_diplomacy accept, no;
			ai_active_set on;
			terminate_prologue;
			terminate_script;

			terminate_monitor;
		end_monitor;

;;;;*************************************************************************************************
;;;;	Checking to see if the player has captured settlements
;;;;*************************************************************************************************

	monitor_event GeneralCaptureSettlement FactionType romans_julii
		and SettlementName Mediolanium

		set_counter MediolaniumCaptured 1;

		terminate_monitor;
	end_monitor;

	monitor_event GeneralCaptureSettlement FactionType romans_julii
		and SettlementName Patavium

		set_counter PataviumCaptured 1;

		terminate_monitor;
	end_monitor;

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; TURN 1
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


		spawn_character_child romans_julii, age 15, birth_season spring, father Flavius Julius, name Caius, surname Julius;
		console_command give_ancillary "Flavius Julius" barbarian_slave ;
		console_command give_ancillary "Flavius Julius" freeman_clerk ;
		console_command give_ancillary "Vibius Julius" chirugeon ;
		console_command create_building Mediolanium trader ;
		spawn_army;
			faction romans_julii;
				character Luca, general, age 29, , x 91, y 80;
				unit		roman city militia			soldiers 0 exp 1 armour 1 weapon_lvl 1;
				unit		roman city militia			soldiers 0 exp 1 armour 1 weapon_lvl 1;
		end;
		create_mercenary_pool Liguria_pool Liguria;
			regions Liguria;
				unit merc barbarian cavalry, exp 0 cost 800 replenish 0.06 - 0.15 max 1 initial 1;
		end;




		;;Explain End turn
		enable_ui end_turn;
		advance_advice_thread End_Turn_1_type_b;																						;; Message displayed in Victoria's panel
		campaign_wait 0.5;
		monitor_event ButtonPressed ButtonPressed end_turn;
			set_counter	PressEndTurn 1;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		ui_flash_start end_turn;																								;; Highlighter around End turn button
		while I_CompareCounter PressEndTurn = 0;
		end_while;
		ui_flash_stop end_turn;
		disable_ui end_turn;
		disable_ui stop_tutorial_button;


		monitor_event FactionTurnEnd FactionType romans_julii;
			set_counter isPlayerTurn 0;
		end_monitor;
		while  I_IsPlayerTurn = 1;
		end_while;


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; TURN 2
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

		monitor_event FactionTurnStart FactionType romans_julii;
			set_counter isPlayerTurn 1;
		end_monitor;
		while I_IsPlayerTurn = 0;
		end_while;
		enable_ui stop_tutorial_button;
		;;disable_ui agent_confirm_button;
		deselect_current_selection;
		senate_mission_take_city moderate_reward, Mediolanium;
		campaign_wait 6;
		


		console_command add_money 3000;

		;;Seasons
		strat_selection_unblocker settlement on none;
		strat_selection_unblocker character on none;
		campaign_wait 1;
		deselect_current_selection;
		strat_selection_unblocker settlement off Mediolanium;
		advance_advice_thread Time_And_Seasons_1;																			;; Message displayed in Victoria's panel
		ui_flash_start season_icon;																							;; Highlighter around Time and season bar
		campaign_wait 1;
		while I_AdvisorSpeechPlaying;
		end_while;
		ui_flash_stop season_icon;
		ui_flash_start advisor_continue;																				;; Highlighter around Continue button in the Advisor panel
		while I_AdvisorVisible;
		end_while;
		ui_flash_stop advisor_continue;
		campaign_wait 1;



		;;Receive units from the Senate as reward (spawned in Arretium)
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            goto labelSeven;
        end_monitor;

        deselect_current_selection;
        set_label labelSeven;
		advance_advice_thread Senate_Mission_Rewards_1_type_b;																		;; Message displayed in Victoria's panel
		campaign_wait 1;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1.5;
		move_to_settlement Arretium;																						;; Camera pans to Arretium
		strat_selection_unblocker settlement on Arretium;
		;;settlement_flash_start Arretium;																					;; Highlighter around Arretium
		point_at_settlement Arretium;
		campaign_wait 0.1;
		enable_cursor;
		inhibit_camera_input false;
		deselect_current_selection;
		monitor_event SettlementSelected SettlementName Arretium;
			set_counter ArretiumSelected 1;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;

		set_counter ArretiumSelected 0;
		while I_CompareCounter ArretiumSelected = 0;																		;; Player left click on the highlighted settlement
		end_while;
		force_settlement_tab units;
		;;settlement_flash_stop Arretium;
		stop_all_point_at_indicators;
		set_counter ArretiumSelected 0;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		campaign_wait 0.1;
		point_at_card unit, roman triarii, 0;
		campaign_wait 3;
		ui_flash_start advisor_continue;
		while I_AdvisorVisible;
		end_while;
		ui_flash_stop advisor_continue;
		deselect_current_selection;	
		strat_selection_unblocker settlement off Arretium;
		campaign_wait 1;



		;;Build Farms in Segesta (growth structure)
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            goto labelEight;
        end_monitor;


		advance_advice_thread Civic_Buildings_1_type_b;																			;; Message displayed in Victoria's panel
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1;
		move_to_settlement Segesta;																							;; Camera pans to Segesta
		strat_selection_unblocker settlement on Segesta;
		;;settlement_flash_start Segesta;																						;; Highlighter around Segesta
		set_label labelEight;
		point_at_settlement Segesta;
		enable_cursor;
		inhibit_camera_input false;
		monitor_event SettlementSelected SettlementName Segesta;

			set_counter SegestaSelected 1;

			terminate_monitor;
		end_monitor;
		while I_CompareCounter SegestaSelected = 0;																			;; Player left click on the highlighted settlement
		end_while;
		stop_all_point_at_indicators;
		;;settlement_flash_stop Segesta;
		set_counter SegestaSelected 0;
		campaign_wait 0.1;
		enable_ui open_construction_options;
		ui_flash_start open_construction_options;
		monitor_event ConstructionPopulated TrueCondition;																	;; Player left click on the Construction button
			ui_flash_stop open_construction_options;
			point_at_card construction, farms;																				;; Highlighter around Farm button in the list of the available constructions
			disable_all_ui_cards construction;
			enable_ui_card construction, farms;
		end_monitor;
		campaign_wait 0.1;

		monitor_event ConstructionItemClicked ConstructionItemClicked farms;
			stop_all_point_at_indicators;
			set_counter FarmSelected 1;
			disable_all_ui_cards construction;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter FarmSelected = 0;																			;; Player left click on the highlighted item
		end_while;
		disable_all_ui_cards construction;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		;;ui_flash_start open_construction_options;
		;;monitor_event ButtonPressed ButtonPressed open_construction_options
		;;	set_counter	ConstructionClosed 1;
		;;	terminate_monitor;
		;;end_monitor;
		;;while I_CompareCounter ConstructionClosed = 0
		;;end_while;
		disable_ui open_construction_options;
		ui_flash_stop open_construction_options;
		campaign_wait 1;
		strat_selection_unblocker settlement off Segesta;
		deselect_current_selection;
		campaign_wait 1;




		;;Explain notifications 1/6																										;; Player left click on the highlighted button
		trigger_marriage_proposal -1;
		campaign_wait 2;
		advance_advice_thread Notifications_1;																							;; Message 1/6 displayed in Victoria's panel
		ui_flash_start show_alerts_tab;
		campaign_wait 2;
		ui_flash_stop show_alerts_tab;
		ui_flash_start show_news_tab;
		campaign_wait 2;
		ui_flash_stop show_news_tab;
		ui_flash_start show_reports_tab;
		campaign_wait 2;
		ui_flash_stop show_reports_tab;
		ui_flash_start show_senate_mission_tab;
		campaign_wait 2;
		ui_flash_stop show_senate_mission_tab;
		while I_AdvisorSpeechPlaying;
		end_while;
		ui_flash_start advisor_continue;
		while I_AdvisorVisible;
		end_while;
		ui_flash_stop advisor_continue;
		campaign_wait 1;

		

		;;Explain notifications 3/6																										;; Player left click on the highlighted Alerts button

		campaign_wait 1;
		ui_flash_start show_alerts_tab;																									;; Highlighter around Alerts Notification tab
		enable_ui show_alerts_tab;
		advance_advice_thread Notifications_3_type_b;																							;; Message 3/6 displayed in Victoria's panel
		monitor_event ButtonPressed ButtonPressed show_alerts_tab;
			set_counter	AlertsButtonPressed 1;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter AlertsButtonPressed = 0;
		end_while;
		ui_flash_stop show_alerts_tab;
		while I_AdvisorSpeechPlaying;
		end_while;
		campaign_wait 1;

		;;Explain notifications 4/6																										;; Player left click on the highlighted News button

		campaign_wait 1;
		ui_flash_start show_news_tab;																									;; Highlighter around News Notification tab
		;;campaign_wait 2;
		enable_ui show_news_tab;
		;;advance_advice_thread Notifications_4;																							;; Message 4/6 displayed in Victoria's panel
		advance_advice_thread Notifications_4_type_b;
		monitor_event ButtonPressed ButtonPressed show_news_tab;
			set_counter	NewsButtonPressed 1;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter NewsButtonPressed = 0;
		end_while;
		ui_flash_stop show_news_tab;
		while I_AdvisorSpeechPlaying;
		end_while;
		campaign_wait 1;

		;;Explain notifications 5/6																										;; Player left click on the highlighted Reports button

		campaign_wait 1;
		ui_flash_start show_reports_tab;																								;; Highlighter around Reports Notification tab
		enable_ui show_reports_tab;
		advance_advice_thread Notifications_5_type_b;																							;; Message 5/6 displayed in Victoria's panel
		monitor_event ButtonPressed ButtonPressed show_reports_tab;
			set_counter	ReportsButtonPressed 1;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter ReportsButtonPressed = 0;
		end_while;
		ui_flash_stop show_reports_tab;
		while I_AdvisorSpeechPlaying;
		end_while;
		campaign_wait 1;


		;;Explain notifications 2/6

		campaign_wait 1;
		advance_advice_thread Notifications_2_type_b;																							;; Message 2/6 displayed in Victoria's panel
		;;advance_advice_thread Notifications_2;
		campaign_wait 1;

		enable_ui show_senate_mission_tab;
		ui_flash_start show_senate_mission_tab;																							;; Highlighter around Senate Notification tab
		monitor_event ButtonPressed ButtonPressed show_senate_mission_tab;
			set_counter	SenateButtonPressed 1;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter SenateButtonPressed = 0;
		end_while;
		ui_flash_stop show_senate_mission_tab;
		while I_AdvisorSpeechPlaying;
		end_while;
		campaign_wait 3;

		
		
		;;ui_flash_start advisor_continue;
		;;while I_AdvisorVisible;
		;;end_while;
		;;ui_flash_stop advisor_continue;
		campaign_wait 1;



		;;Reject Marriage Proposal (he's a total duffer!)
		advance_advice_thread Reject_Marriage_Proposal_1_type_b;														;; Message displayed in Victoria's panel
		ui_flash_start show_alerts_tab;																					;; Highlighter around Marriage proposal Notification
		enable_ui show_alerts_tab;
		enable_ui news_list_items;	
		monitor_event ButtonPressed ButtonPressed show_alerts_tab;
			set_counter	AlertsPressed 1;
			terminate_monitor;
		end_monitor;
		campaign_wait 0.5;
		while I_CompareCounter AlertsPressed = 0;																		;; Player left-click on the highlighted button
		end_while;
		set_counter	AlertsPressed 0;
		campaign_wait 0.5;
		ui_flash_start a_suitable_husband;
		;;disable_ui show_alerts_tab;	
		monitor_event MessageOpen IncomingMessageType suitor_available_for_daughter;
			disable_ui accept_button;
			enable_ui decline_button;	
			ui_flash_start decline_button;																				;; Highlighter around Decline button
			terminate_monitor;
		end_monitor;
		monitor_event ButtonPressed ButtonPressed decline_button;
			set_counter	MarriageChoice 1;
			terminate_monitor;
		end_monitor;
		campaign_wait 0.5;
		while I_CompareCounter MarriageChoice = 0;																		;; Player left-click on the highlighted button
		end_while;
		set_counter	MarriageChoice 0;
		ui_flash_stop decline_button;
		disable_ui decline_button;
		disable_ui news_list_items;	
		campaign_wait 1;																								;; Next advice triggered



		;;Explain notifications 6/6

		campaign_wait 1;
		ui_flash_start show_alerts_tab;																									;; Highlighter around News Notification tab
		;;advance_advice_thread Notifications_6_type_b;																							;; Message 6/6 displayed in Victoria's panel
		set_counter NewsButtonPressed 0;
		monitor_event ButtonPressed ButtonPressed show_alerts_tab;
			set_counter	NewsButtonPressed 1;
			terminate_monitor;
		end_monitor;


		while I_CompareCounter NewsButtonPressed = 0;
		end_while;
		disable_ui show_alerts_tab;
		disable_ui show_reports_tab;
		disable_ui show_news_tab;
		disable_ui show_senate_mission_tab;
		ui_flash_stop show_alerts_tab;
		campaign_wait 1;
		;;while I_AdvisorSpeechPlaying;
		;;end_while;
		;;ui_flash_start advisor_continue;
		;;while I_AdvisorVisible;
		;;end_while;
		;;ui_flash_stop advisor_continue;
		;;campaign_wait 1;
		;;ui_flash_stop show_news_tab;
		campaign_wait 1;





		;;END TURN
		advance_advice_thread End_Turn_2_type_b;														;; Player left click on the End Turn button
		campaign_wait 1;
		while I_AdvisorSpeechPlaying;
		end_while
		campaign_wait 1;
		enable_ui end_turn;
		ui_flash_start end_turn;
		monitor_event ButtonPressed ButtonPressed end_turn;
			set_counter	PressEndTurn 2;
			terminate_monitor;
		end_monitor;


		while I_CompareCounter PressEndTurn = 1;
		end_while;
		disable_ui end_turn;
		disable_ui stop_tutorial_button;
		ui_flash_stop end_turn;

		monitor_event FactionTurnEnd FactionType romans_julii;
			set_counter isPlayerTurn 0;
		end_monitor;
		while I_IsPlayerTurn = 1;
		end_while;



;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; TURN 3
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

		monitor_event FactionTurnStart FactionType romans_julii;
			set_counter isPlayerTurn 1;
		end_monitor;
		while I_IsPlayerTurn = 0;
		end_while;
		console_command give_ancillary "Flavius Julius" drillmaster;
		enable_ui stop_tutorial_button;
		disable_ui agent_confirm_button;
		deselect_current_selection;
		campaign_wait 4;


		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            ui_card_selection_lock off;
            goto labelNine;
        end_monitor;
		;;Send new family member plus troops to Segesta as Governor
		advance_advice_thread Move_Troops_1_type_b;																							;; Message displayed in Victoria's panel
		campaign_wait 1;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1;
		move_strat_camera 89, 81;
		campaign_wait 1;
		enable_cursor;
		inhibit_camera_input false;
		strat_selection_unblocker settlement on Arretium;
		set_label labelNine;
		campaign_wait 0.2;
		monitor_event SettlementSelected SettlementName Arretium;

			set_counter ArretiumSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		point_at_settlement Arretium;
		;;set_counter ArretiumSelected 0;
		while I_CompareCounter ArretiumSelected = 0;
		end_while;
		set_counter ArretiumSelected 0;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 91, 80;
		force_settlement_tab units;
		stop_all_point_at_indicators;

		disable_all_ui_cards unit;
		enable_ui_card unit, 1;
		enable_ui_card unit, 5;
		point_at_strat_position, slot 0, 83, 84;
		point_at_card unit, slot 1, Caius Julius;																						
		point_at_card unit, slot 2, 5;

		while_not I_UnitCardSelected roman city militia, 1, roman generals guard cavalry early, 1;
			;;feral_script_debugger;
		end_while;
		ui_card_selection_lock on;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 91, 80;
		restrict_strat_movement romans_julii, 83, 84;
		
		while_not I_CharacterNameNearTile romans_julii, Caius Julius, 1.45 83, 84;
		end_while;																														;; Advisor panel is automatically closed
		while_not I_AmountOfUnitInSettlement Segesta 1 roman city militia;
		end_while;
		ui_card_selection_lock off;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		campaign_wait 1;
		stop_all_point_at_indicators;
		disable_all_ui_cards;
		deselect_current_selection;
		strat_selection_unblocker settlement off Arretium;


		;;disable_all_ui_cards unit;
		;;point_at_card unit, slot 0, Caius Julius;																						
		;;point_at_card unit, slot 1, 5;
		;;enable_ui_card unit, 0;
		;;enable_ui_card unit, 1;
		;;enable_ui_card unit, 5;
		;;while_not I_UnitCardSelected roman city militia, 1, roman generals guard cavalry early, 1;
		;;	;;feral_script_debugger;
		;;end_while;
		;;ui_card_selection_lock on;
		;;clear_restrict_strat_movement;
		;;restrict_strat_movement romans_julii, 91, 80;
		;;restrict_strat_movement romans_julii, 83, 84;
		;;campaign_wait 0.5;
		;;move_strat_camera 84, 82;																										;; Camera pans to Segesta
		;;;;stop_all_point_at_indicators;
		;;inhibit_camera_input true;
		;;disable_cursor;
		;;campaign_wait 0.5;
		;;enable_cursor;
		;;inhibit_camera_input false;
		;;point_at_strat_position, slot 0, 83, 84;
		;;point_at_card unit, slot 1, Caius Julius;																						
		;;point_at_card unit, slot 2, 5;
		;;while_not I_CharacterNameNearTile romans_julii, Caius Julius, 1.45 83, 84;
		;;end_while;																														;; Advisor panel is automatically closed
		;;while_not I_AmountOfUnitInSettlement Segesta 1 roman city militia;
		;;end_while;
		;;ui_card_selection_lock off;




		;;Explain importance of governors and troops in settlement + economy

		advance_advice_thread Governors_1;																								;; Message displayed in Victoria's panel
		campaign_wait 1;
		while I_AdvisorSpeechPlaying;
		end_while;
		ui_flash_start advisor_continue;
		while I_AdvisorVisible;
		end_while;
		ui_flash_stop advisor_continue;
		campaign_wait 1;



		;;Explain Move retinues
		advance_advice_thread Move_Retinue_1_type_b;																							;; Message (1/4) displayed in Victoria's panel
		campaign_wait 1;																														;; TODO  Message 4
		;;while I_AdvisorSpeechPlaying;
		;;end_while;

		campaign_wait 1;

		enable_ui faction_button;
		enable_ui combined_overview_scroll;
		ui_flash_start faction_button;
		monitor_event ButtonPressed ButtonPressed faction_button;
			enable_ui combined_overview_scroll;
			disable_ui faction_info_senate_tab;
			disable_ui faction_info_faction_tab;
			disable_ui faction_info_lists_tab;
			disable_ui faction_info_agent_hub_tab;
			disable_ui faction_info_overview_tab;
			disable_ui faction_info_own_faction_tab;
			set_counter	FactionButtonPressed 1;
			terminate_monitor;
		end_monitor;


		while I_CompareCounter FactionButtonPressed = 0;
		end_while;
		set_counter	FactionButtonPressed 0;
		ui_flash_stop faction_button;
		campaign_wait 1;

		advance_advice_thread Move_Retinue_2_type_b;																							;; Message (2/4) displayed in Victoria's panel
		enable_ui faction_info_move_retinue_tab;
		ui_flash_start faction_info_move_retinue_tab;
		monitor_event ButtonPressed ButtonPressed faction_info_move_retinue_tab;
			set_counter	RetinueHubButtonPressed 1;
			terminate_monitor;
		end_monitor;


		while I_CompareCounter RetinueHubButtonPressed = 0;
		end_while;
		ui_flash_stop faction_info_move_retinue_tab;

		advance_advice_thread Move_Retinue_3_type_b;																							;; Message (3/4) displayed in Victoria's panel
		disable_move_retinue_all Character;
		disable_move_retinue_all Ancillary;
		point_at_move_retinue Character, Caius Julius;
		enable_move_retinue Character, Caius Julius;
        monitor_event MoveRetinuePopulated TrueCondition;
			disable_move_retinue_all Character;
			point_at_move_retinue Character, Caius Julius;
			enable_move_retinue Character, Caius Julius;
		end_monitor;


		monitor_event MoveRetinuePressed TrueCondition;	
			disable_move_retinue_all Ancillary;
			point_at_move_retinue Ancillary, Flavius Julius, barbarian_slave;
			enable_move_retinue Ancillary, Flavius Julius, barbarian_slave;
			enable_move_retinue Ancillary, Vibius Julius, chirugeon;
		end_monitor;
		monitor_event MoveRetinueAncillarySelected TrueCondition;
			set_counter	BarbSlaveSelected 1;
			point_at_move_retinue Ancillary, Vibius Julius, chirugeon;
		end_monitor;
		monitor_event MoveRetinueAncillaryDeselected TrueCondition;
			point_at_move_retinue Ancillary, Flavius Julius, barbarian_slave;
		end_monitor;

		while I_CompareCounter BarbSlaveSelected = 0;
		end_while;
		set_counter	BarbSlaveSelected 0;


		monitor_event MoveRetinueAncillarySelected TrueCondition;
			ui_flash_start retinue_travel_button;
		end_monitor;
		monitor_event MoveRetinueAncillaryDeselected TrueCondition;
			ui_flash_stop retinue_travel_button;
		end_monitor;

		monitor_event ButtonPressed ButtonPressed retinue_travel_button;
			disable_move_retinue_all Character;
			disable_move_retinue_all Ancillary;
			set_counter	RetinueTravelPressed 1;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter RetinueTravelPressed = 0;
		end_while;
		set_counter	RetinueTravelPressed 0;

		advance_advice_thread Move_Retinue_4_type_b;
		;;while I_AdvisorSpeechPlaying;
		;;end_while;
		disable_move_retinue_all Character;
		enable_move_retinue Character, Caius Julius;
		point_at_move_retinue Character, Caius Julius;
		monitor_event MoveRetinuePopulated TrueCondition;	
			disable_move_retinue_all Character;
			point_at_move_retinue Character, Caius Julius;
			enable_move_retinue Character, Caius Julius;
		end_monitor;

		monitor_event MoveRetinuePressed TrueCondition;	
			disable_move_retinue_all Ancillary;
			point_at_move_retinue Ancillary, Flavius Julius, freeman_clerk;
			enable_move_retinue Ancillary, Flavius Julius, freeman_clerk;
		end_monitor;
		monitor_event MoveRetinueAncillarySelected TrueCondition;
			set_counter	FreeClerkSelected 1;
		end_monitor;
		monitor_event MoveRetinueAncillaryDeselected TrueCondition;
			point_at_move_retinue Ancillary, Flavius Julius, freeman_clerk;
		end_monitor;

		while I_CompareCounter FreeClerkSelected = 0;
		end_while;
		set_counter	FreeClerkSelected 0;


		monitor_event MoveRetinueAncillarySelected TrueCondition;
			ui_flash_start retinue_travel_button;
		end_monitor;
		monitor_event MoveRetinueAncillaryDeselected TrueCondition;
			ui_flash_stop retinue_travel_button;
			point_at_move_retinue Ancillary, Flavius Julius, freeman_clerk;
		end_monitor;

		monitor_event ButtonPressed ButtonPressed retinue_travel_button;
			disable_move_retinue_all Character;
			disable_move_retinue_all Ancillary;
			set_counter	RetinueTravelPressed 1;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter RetinueTravelPressed = 0;
		end_while;
		set_counter	RetinueTravelPressed 0;

		ui_flash_start close_faction_dialog;
		monitor_event ButtonPressed ButtonPressed close_faction_dialog;
			set_counter	CloseDialogPressed 1;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter CloseDialogPressed = 0;
		end_while;
		set_counter	CloseDialogPressed 0;
		ui_flash_stop close_faction_dialog;
		disable_ui faction_button;
		campaign_wait 1;





		;;Move Army from Segesta to Mediolanium, leaving new Family Guy and the troops from Arretium behind	
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1.5;
		move_strat_camera 82, 89;
		zoom_strat_camera 0.4;
		campaign_wait 0.5;
		enable_cursor;
		inhibit_camera_input false;
		strat_selection_unblocker settlement on Segesta;
		point_at_settlement Segesta;
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            ui_card_selection_lock off;
            goto labelEleven;
        end_monitor;
 
        
		advance_advice_thread Moving_To_Mediolanum_1_type_b;																					;; Message displayed in Victoria's panel
		set_label labelEleven;
		point_at_settlement slot 6, Segesta;
		set_counter SegestaSelected 0;
		monitor_event SettlementSelected SettlementName Segesta;

			set_counter SegestaSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;

		while I_CompareCounter SegestaSelected = 0;
		end_while;

		set_counter SegestaSelected 0;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 83, 84;
		campaign_wait 0.5;
		
		;;campaign_wait 1;
		
		stop_all_point_at_indicators;
		
		disable_all_ui_cards unit;
		enable_ui_card unit, 0;
		enable_ui_card unit, 2;
		enable_ui_card unit, 3;
		enable_ui_card unit, 4;
		enable_ui_card unit, 5;
		point_at_strat_position slot 0, 81, 88;
		point_at_card unit, slot 1, 0;
		point_at_card unit, slot 2, 2;
		point_at_card unit, slot 3, 3;
		point_at_card unit, slot 4, 4;
		point_at_card unit, slot 5, 5;

		while_not I_UnitCardSelected roman generals guard cavalry early, 1, roman hastati, 2, roman triarii, 1, roman archer, 1;
		end_while;
		ui_card_selection_lock on;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 83, 84;				;;Flavius Julius + Segesta
		restrict_strat_movement romans_julii, 81, 88;

		while_not I_CharacterNameNearTile romans_julii, Flavius Julius, 1.45 81, 88;
		end_while;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
        ui_card_selection_lock off;
		stop_all_point_at_indicators;
		campaign_wait 2;
		deselect_current_selection;
		strat_selection_unblocker settlement off Segesta;



		;;Explain and Set Tax rate and Settlement Automanagement
		campaign_wait 1;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1.5;
		move_to_settlement Arretium;																									;; Camera pans to Arretium
		campaign_wait 1;
		enable_cursor;
		inhibit_camera_input false;
		advance_advice_thread Tax_Rate_1;																								;; Message (1/5) displayed in Victoria's panel
		campaign_wait 1;
		while I_AdvisorSpeechPlaying;
		end_while;
		ui_flash_start advisor_continue;
		while I_AdvisorVisible;
		end_while;
		ui_flash_stop advisor_continue;
		strat_selection_unblocker settlement on Arretium;
		
		;;monitor_event ItemDeselected TrueCondition;
        ;;    if I_CompareCounter DeselectActionComplete = 1;
        ;;        set_counter DeselectActionComplete 0;
        ;;        terminate_monitor;
        ;;    end_if;
        ;;    goto labelTwelve;
        ;;end_monitor;
        ;;set_label labelTwelve;




		advance_advice_thread Tax_Rate_2_type_c;																								;; Message (2/5) displayed in Victoria's panel
		point_at_settlement Arretium;																									;; Highlighter around Arretium
		declare_counter ArretiumSelected;
		campaign_wait 0.1;

		monitor_event SettlementSelected SettlementName Arretium;
			set_counter ArretiumSelected 1;
			;;if I_CompareCounter DeselectActionComplete = 1;
        		terminate_monitor;
            ;;end_if;
		end_monitor;
		while I_CompareCounter ArretiumSelected = 0;
		end_while;
		set_counter ArretiumSelected 0;
		force_settlement_tab buildings;
		stop_all_point_at_indicators;
		campaign_wait 0.5;



		enable_ui show_settlement_details;	
		ui_flash_start show_settlement_details;																							;; Highlighter around stat displays in the Settlement Overview
		declare_counter SettlementDetailsPressed;
		monitor_event ButtonPressed ButtonPressed show_settlement_details;
			set_counter	SettlementDetailsPressed 1;
			;;if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            ;;end_if;
		end_monitor;
		campaign_wait 0.5;
		while I_CompareCounter SettlementDetailsPressed = 0;																			;; Player left-click on one of the highlighted stats
		end_while;
		set_counter SettlementDetailsPressed 0;
		ui_flash_stop show_settlement_details;
		campaign_wait 0.5;



		disable_ui settlement_automanage_button;
		disable_ui decrease_taxation_gadget;
		enable_ui increase_taxation_gadget;
		ui_flash_start increase_taxation_gadget;																						;; Highlighter around right arrow in Manage Settlement panel
		monitor_event ButtonPressed ButtonPressed increase_taxation_gadget;
			inc_counter	TaxIncPressed 1;
			disable_ui decrease_taxation_gadget;
			if I_CompareCounter TaxIncPressed = 2;
				;;if I_CompareCounter DeselectActionComplete = 1;
               		terminate_monitor;
            	;;end_if;
			end_if;
		end_monitor;
		campaign_wait 0.2;
		ui_flash_start increase_taxation_gadget;
		while I_CompareCounter TaxIncPressed != 1;																						;; Player left-click on one of the highlighted arrow
			disable_ui settlement_automanage_button;
			disable_ui decrease_taxation_gadget;
			campaign_wait 0.1;
		end_while;
		disable_cursor;
		campaign_wait 0.2;
		ui_flash_start increase_taxation_gadget;
		while I_CompareCounter TaxIncPressed != 2;																						;; Player left-click on one of the highlighted arrow
			enable_cursor;
			disable_ui settlement_automanage_button;
			disable_ui decrease_taxation_gadget;
			campaign_wait 0.1;
		end_while;
		disable_cursor;
		set_counter	TaxIncPressed 0;
		campaign_wait 0.5;
		disable_ui settlement_automanage_button;
		disable_ui decrease_taxation_gadget;
		disable_ui increase_taxation_gadget;
		ui_flash_stop increase_taxation_gadget;																							;; Tax Rate is set to Very High
		campaign_wait 1;
		enable_cursor;

		advance_advice_thread Tax_Rate_4;
		campaign_wait 1;
		ui_flash_start advisor_continue;
		while I_AdvisorVisible;
		end_while;
		ui_flash_stop advisor_continue;

		;;campaign_wait 0.5;
		;;set_counter DeselectActionComplete 1;
        ;;force_deselect_trigger;

        ;;monitor_event ItemDeselected TrueCondition;
        ;;    if I_CompareCounter DeselectActionComplete = 1;
        ;;        set_counter DeselectActionComplete 0;
        ;;        terminate_monitor;
        ;;    end_if;
        ;;    goto labelThirteen;
        ;;end_monitor;
        ;;set_label labelThirteen;





		advance_advice_thread Tax_Rate_3_type_b;																								;;Message (3/5 and 4/5) displayed in Victoria's panel
		campaign_wait 0.5;
		disable_ui hud_prev_item_cycle;
		disable_ui settlement_automanage_button;
		disable_ui increase_taxation_gadget;
		disable_ui decrease_taxation_gadget;
		strat_selection_unblocker settlement on Ariminum;
		enable_ui hud_next_item_cycle;
		ui_flash_start hud_next_item_cycle;																								;; Highlighter around arrows to switch between nemes
		monitor_event SettlementSelected SettlementName Ariminum;
			set_counter AriminumSelected 1;
			;;if I_CompareCounter DeselectActionComplete = 1;
            	terminate_monitor;
            ;;end_if;
		end_monitor;
		while I_CompareCounter AriminumSelected = 0;																					;; Player left-click on one of the highlighted arrows
		end_while;
		disable_cursor;
		set_counter AriminumSelected 0;
		ui_flash_stop hud_next_item_cycle;
		disable_ui hud_next_item_cycle;
		campaign_wait 1;
		ui_flash_start increase_taxation_gadget;
		disable_ui decrease_taxation_gadget;
		disable_ui settlement_automanage_button;
		enable_ui increase_taxation_gadget;
		monitor_event ButtonPressed ButtonPressed increase_taxation_gadget;
			inc_counter	TaxIncPressed 1;
			disable_ui decrease_taxation_gadget;
			if I_CompareCounter TaxIncPressed = 2;
				;;if I_CompareCounter DeselectActionComplete = 1;
               		terminate_monitor;
            	;;end_if;
			end_if;
		end_monitor;
		campaign_wait 0.2;
		ui_flash_start increase_taxation_gadget;
		enable_cursor;
		while I_CompareCounter TaxIncPressed != 1;																						;; Player left-click on one of the highlighted arrow
			disable_ui settlement_automanage_button;
			disable_ui decrease_taxation_gadget;
			campaign_wait 0.1;
		end_while;
		disable_cursor;
		campaign_wait 0.2;
		ui_flash_start increase_taxation_gadget;
		while I_CompareCounter TaxIncPressed != 2;																						;; Player left-click on one of the highlighted arrow
			enable_cursor;
			disable_ui settlement_automanage_button;
			disable_ui decrease_taxation_gadget;
			campaign_wait 0.1;
		end_while;
		disable_cursor;
		set_counter	TaxIncPressed 0;
		campaign_wait 0.5;
		disable_ui settlement_automanage_button;
		disable_ui decrease_taxation_gadget;
		disable_ui increase_taxation_gadget;
		ui_flash_stop increase_taxation_gadget;																							;; Tax Rate is set to Very High
		campaign_wait 1;
		enable_cursor;
		;;set_counter DeselectActionComplete 1;
        ;; force_deselect_trigger;

        ;; monitor_event ItemDeselected TrueCondition;
        ;;    if I_CompareCounter DeselectActionComplete = 1;
        ;;        set_counter DeselectActionComplete 0;
        ;;        terminate_monitor;
        ;;    end_if;
        ;;    goto labelFourteen;
        ;;end_monitor;
 
        ;;set_label labelFourteen;
		enable_ui hud_next_item_cycle;
		strat_selection_unblocker settlement on Segesta;
		ui_flash_start hud_next_item_cycle;																								;; Highlighter around arrows to switch between nemes
		monitor_event SettlementSelected SettlementName Segesta;
			set_counter SegestaSelected 1;
			;;if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            ;;end_if;
		end_monitor;
		while I_CompareCounter SegestaSelected = 0;																					;; Player left-click on one of the highlighted arrows
		end_while;
		disable_cursor;
		set_counter SegestaSelected 0;
		disable_ui hud_next_item_cycle;
		ui_flash_stop hud_next_item_cycle;
		campaign_wait 0.5;
		disable_ui settlement_automanage_button;
		disable_ui decrease_taxation_gadget;
		;;enable_ui increase_taxation_gadget;
		;;ui_flash_start increase_taxation_gadget;
		;;monitor_event ButtonPressed ButtonPressed increase_taxation_gadget;
		;;	inc_counter	TaxIncPressed 1;
		;;	disable_ui decrease_taxation_gadget;
		;;	if I_CompareCounter TaxIncPressed = 2;
		;;		;;if I_CompareCounter DeselectActionComplete = 1;
        ;;        	terminate_monitor;
        ;;    	;;end_if;
		;;	end_if;
		;;end_monitor;
		;;campaign_wait 0.2;
		;;ui_flash_start increase_taxation_gadget;
		;;enable_cursor;
		;;while I_CompareCounter TaxIncPressed != 1;																						;; Player left-click on one of the highlighted arrow
		;;	disable_ui settlement_automanage_button;
		;;	disable_ui decrease_taxation_gadget;
		;;	campaign_wait 0.1;
		;;end_while;
		;;disable_cursor;
		;;campaign_wait 0.2;
		;;ui_flash_start increase_taxation_gadget;
		;;while I_CompareCounter TaxIncPressed != 2;																						;; Player left-click on one of the highlighted arrow
		;;	enable_cursor;
		;;	disable_ui settlement_automanage_button;
		;;	disable_ui decrease_taxation_gadget;
		;;	campaign_wait 0.1;
		;;end_while;
		;;disable_cursor;
		;;set_counter	TaxIncPressed 0;
		;;campaign_wait 0.5;
		;;disable_ui settlement_automanage_button;
		;;disable_ui decrease_taxation_gadget;
		;;disable_ui increase_taxation_gadget;
		;;ui_flash_stop increase_taxation_gadget;																							;; Tax Rate is set to Very High
		campaign_wait 0.5;
		enable_cursor;

		disable_ui settlement_automanage_button;
		disable_ui hud_prev_item_cycle;
		disable_ui hud_next_item_cycle;
		disable_ui increase_taxation_gadget;
		disable_ui decrease_taxation_gadget;
		disable_ui show_settlement_details;
		campaign_wait 1;
		;;set_counter DeselectActionComplete 1;
        ;;force_deselect_trigger;
		advance_advice_thread Tax_Rate_5;																								;; Message (5/5) displayed in Victoria's panel
		campaign_wait 1;
		ui_flash_start advisor_continue;																							;; Highlighter around Continue button
		while I_AdvisorVisible;
		end_while;
		ui_flash_stop advisor_continue;
		campaign_wait 2;
		deselect_current_selection;
		strat_selection_unblocker settlement off Arretium;
		strat_selection_unblocker settlement off Ariminum;
		strat_selection_unblocker settlement off Segesta;
		campaign_wait 1;




		;; Use of Diplomats

		advance_advice_thread Use_Of_Diplomats_1;																					;; Message displayed in Victoria's panel
		campaign_wait 1;
		disable_cursor;
		campaign_wait 1;
		move_strat_camera 91, 78;
		campaign_wait 1;
		enable_cursor;
		while I_AdvisorSpeechPlaying;
		end_while;
		ui_flash_start advisor_continue;
		while I_AdvisorVisible;
		end_while;
		ui_flash_stop advisor_continue;
		campaign_wait 0.5;																											;; Next advice triggered




		;;Embark on a ship and move the ship towards Caralis
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            stop_all_point_at_indicators;
            goto labelFifteen;
        end_monitor;

		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 93, 78;
		restrict_strat_movement romans_julii, 86, 78;
		advance_advice_thread Embark_Unit_1_type_b;																						;; Message displayed in Victoria's panel
		set_label labelFifteen;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1;
		move_strat_camera 91, 78;																									;; Camera pans to Diplomat
		point_at_character slot 0, Sextus Antio;																							;; Highlighter around Diplomat
		strat_selection_unblocker character on Sextus Antio;
		enable_cursor;
		while_not I_CharacterSelected Sextus Antio;																					;; Player left click on the highlighted character
		end_while;
		stop_all_point_at_indicators;
		campaign_wait 1;
		move_strat_camera 88, 78;																									;; Camera pans to Arretium's port
		point_at_strat_position, slot 1, 86, 78;																								;; Highlighter around Ship in Arretium
		while_not I_CharacterTypeNearTile romans_julii diplomat, 1.45 86, 78;															;; Player right-click on the highlighted ship
		end_while;																													;; Advisor panel is automatically closed
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		stop_all_point_at_indicators;
		campaign_wait 2;																											;; Next advice triggered




		;; Explain Navy

		move_strat_camera 88, 78;
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            stop_all_point_at_indicators;
            goto labelSixteen;
        end_monitor;

 		advance_advice_thread Navy_1_type_b;																								;; Message displayed in Victoria's panel
        set_label labelSixteen;
		;;character_flash_start Oppius Clausus;																								;; Highlighter around Ship in Arretium
		point_at_character slot 0, Oppius Clausus;
		;;strat_selection_unblocker character on Oppius Clausus;
		strat_selection_unblocker character on Admiral Oppius;
		while_not I_CharacterSelected Oppius Clausus;																						;; Player left-click on the highlighted ship
		end_while;
		campaign_wait 1;
		stop_all_point_at_indicators;
		;;strat_selection_unblocker character on Oppius Clausus;
		move_strat_camera 85, 65;																									;; Camera pans to Caralis' coast.
		zoom_strat_camera 0.4;
		campaign_wait 1;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 85, 78;
		restrict_strat_movement romans_julii, 84, 68;
		point_at_strat_position, slot 1, 84, 68;																								;; Highlighter around location to assign
		while_not I_CharacterTypeNearTile romans_julii admiral, 1.45 84,68;															;; Player right click on the highlighted location
		end_while;																													;; Advisor panel is automatically closed
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		stop_all_point_at_indicators;
		campaign_wait 2;
		inhibit_camera_input false;																												;; Next advice triggered





		;;Explain region resources (& inform player that Patavium will be their 3rd target)
		advance_advice_thread Territory_Resources_1_type_b;																	;; Message (1/2) displayed in Victoria's panel
		campaign_wait 1;
		enable_ui campaign_map_overlays_button;
		ui_flash_start campaign_map_overlays_button;																	;; Highlighter around Map Overlay button
		monitor_event ButtonPressed ButtonPressed campaign_map_overlays_button;
			set_counter	MapOverlayPressed 1;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter MapOverlayPressed = 0;																	;; Player left-click on the highlighted button
		end_while;																										;; Map Overlays opens
		set_counter	MapOverlayPressed 0;
		ui_flash_stop campaign_map_overlays_button;
		campaign_wait 0.1;
		enable_ui overlays_close_button;
		ui_flash_start overlays_close_button;																	;; Highlighter around Map Overlay button
		monitor_event ButtonPressed ButtonPressed overlays_close_button;
			set_counter	OverlayClosed 1;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter OverlayClosed = 0;																	;; Player left-click on the highlighted button
		end_while;																										;; Map Overlays opens
		set_counter	OverlayClosed 0;
		ui_flash_stop overlays_close_button;
		disable_ui campaign_map_overlays_button;
		disable_ui overlays_close_button;
		ui_flash_start advisor_continue;																			;; Highlighter around Continue button in the advisor's panel
		while I_AdvisorVisible;																							;; Player can freely have a look at the menu before proceeding
		end_while;
		ui_flash_stop advisor_continue;
		campaign_wait 1;																								;; Player left-click on the highlighted button
		deselect_current_selection;
		strat_selection_unblocker character off Admiral Oppius;






		;;END TURN
		enable_ui end_turn;
		ui_flash_start end_turn;
		advance_advice_thread End_Turn_3_type_b;
		monitor_event ButtonPressed ButtonPressed end_turn;
			set_counter	PressEndTurn 3;
			terminate_monitor;
		end_monitor;


		while I_CompareCounter PressEndTurn = 2;
		end_while;
		ui_flash_stop end_turn;
		disable_ui end_turn;
		disable_ui stop_tutorial_button;

		monitor_event FactionTurnEnd FactionType romans_julii;
			set_counter isPlayerTurn 0;
		end_monitor;
		while I_IsPlayerTurn = 1;
		end_while;


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; TURN 4
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


		monitor_event FactionTurnStart FactionType romans_julii;
			set_counter isPlayerTurn 1;
		end_monitor;
		while I_IsPlayerTurn = 0;
		end_while;
		enable_ui stop_tutorial_button;
		disable_ui agent_confirm_button;
		campaign_wait 3;
		force_settlement_tab buildings;
		spawn_character romans_julii Luca Chaerea, assassin, command 0, influence 0, management 0, subterfuge 3, age 20, x 89, y 85;					;;TODO workaround


		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            goto labelSeventeen;
        end_monitor;
 
        set_label labelSeventeen;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1.5;
		move_to_settlement Mediolanium;																						;; Camera pans to Mediolanium
		zoom_strat_camera 0.2;
		campaign_wait 1;
		enable_cursor;
		inhibit_camera_input false;


		;;Recruit mercenaries in the army moving from Segesta to Mediolanium
		advance_advice_thread Hire_Mercenaries_1_type_b;																		;; Message (first paragraph) displayed in Victoria's panel
		campaign_wait 1;

		point_at_settlement Mediolanium;
		strat_selection_unblocker settlement on Mediolanium;
		;;settlement_flash_start Mediolanium;																				;; Highlighter around Mediolanium
		set_counter MediolaniumSelected 0;
		monitor_event EnemySettlementSelected SettlementName Mediolanium;

			set_counter MediolaniumSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter MediolaniumSelected = 0;																	;; Player left-click on the highlighted Settlement
		end_while;
		stop_all_point_at_indicators;
		set_counter MediolaniumSelected 0;																				;; Mediolanium overview opens
		enable_ui hud_show_units_tab;
		enable_ui hud_show_buildings_tab;
		disable_ui hud_show_agents_tab;
		disable_ui hud_show_passengers_tab;
		ui_flash_start hud_show_units_tab;
		monitor_event ButtonPressed ButtonPressed hud_show_units_tab;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
			set_counter	UnitsTabPressed 1;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter UnitsTabPressed = 0;																	;; Player left-click on the highlighted button
		end_while;
		set_counter	UnitsTabPressed 0;
		ui_flash_stop hud_show_units_tab;
		campaign_wait 1.5;
		point_at_card unit, slot 0, 0;
		campaign_wait 1.5;																						
		point_at_card unit, slot 1, 1;
		campaign_wait 1.5;
		point_at_card unit, slot 2, 2;
		campaign_wait 1.5;
		point_at_card unit, slot 3, 3;
		campaign_wait 1.5;
		stop_all_point_at_indicators;
		campaign_wait 1.5;
		ui_flash_start hud_show_buildings_tab;
		monitor_event ButtonPressed ButtonPressed hud_show_buildings_tab;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
			set_counter	BuildingsTabPressed 1;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter BuildingsTabPressed = 0;																	;; Player left-click on the highlighted button
		end_while;
		set_counter	BuildingsTabPressed 0;
		ui_flash_stop hud_show_buildings_tab;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
        campaign_wait 1.5;
        point_at_card building wooden_pallisade;
        campaign_wait 2;
        stop_all_point_at_indicators;
		campaign_wait 1.5;
        while I_AdvisorSpeechPlaying;
		end_while;

		;; Message (second paragraph) displayed in Victoria's panel
		advance_advice_thread Hire_Mercenaries_2;
		campaign_wait 1;
		while I_AdvisorSpeechPlaying;
		end_while;
		ui_flash_start advisor_continue;																		;; Highlighter around Continue button in the advisor's panel
		while I_AdvisorVisible;
		end_while;																									;; Player left-click on the highlighted button
		ui_flash_stop advisor_continue;
		campaign_wait 1;
		deselect_current_selection;
		disable_ui hud_show_units_tab;
		disable_ui hud_show_buildings_tab;
		campaign_wait 1;

		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            ui_flash_start open_recruitement_options;
            goto labelEighteen;
        end_monitor;
 
        
		;; Message (third and forfth paragraphs) displayed in Victoria's panel
		move_strat_camera 82, 90;
		zoom_strat_camera 0.2;
		advance_advice_thread Hire_Mercenaries_3_type_b;
		force_settlement_tab units;
		strat_selection_unblocker character on Flavius Julius;
		set_label labelEighteen;
		point_at_character, slot 0, Flavius Julius;																				;; Highlighter around player's general
		while_not I_CharacterSelected Flavius Julius;
		end_while;
		stop_all_point_at_indicators;
		campaign_wait 0.5;
		enable_ui open_recruitement_options;
		ui_flash_start open_recruitement_options;																			;; Highlighter around Recruitment button
		campaign_wait 0.5;
		monitor_event RecruitmentPopulated TrueCondition;																	;; Player left click on the highlighted button
			ui_flash_stop open_recruitement_options;
			stop_all_point_at_indicators;
			point_at_card mercenaries, merc barbarian cavalry;																	;; Highlighter around mercenary unit in the list
			disable_all_ui_cards mercenaries;
			enable_ui_card mercenaries, merc barbarian cavalry;
		end_monitor;
		campaign_wait 0.5;
		
		monitor_event RecruitmentItemClicked RecruitmentItemClicked merc barbarian cavalry;

			set_counter MercCavSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter MercCavSelected = 0;																			;; Player left click on the highlighted unit
		end_while;
		set_counter MercCavSelected 0;
		;;disable_ui open_recruitement_options;
		enable_ui confirm_fconstruction_and_hiring_btn;
		ui_flash_start confirm_fconstruction_and_hiring_btn;

		monitor_event ButtonPressed ButtonPressed confirm_fconstruction_and_hiring_btn;

			set_counter ConfirmBtnSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter ConfirmBtnSelected = 0;																			;; Player left click on the highlighted unit
		end_while;
		set_counter ConfirmBtnSelected 0;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		disable_ui confirm_fconstruction_and_hiring_btn;
		disable_ui open_recruitement_options;
		ui_flash_stop confirm_fconstruction_and_hiring_btn;																			;; Next advice triggered
		campaign_wait 1;
		

		;;Watchtowers and Forts
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            ui_flash_start open_construction_options;
            goto labelNineteen;
        end_monitor;
 
        
		advance_advice_thread Watchtowers_And_Forts_1_type_b;																	;; Message displayed in Victoria's panel
		set_label labelNineteen;
		point_at_character Flavius Julius;																				;; Highlighter around player's general
		while_not I_CharacterSelected Flavius Julius;																	;; Player left-click on the highlighted character
		end_while;																										;; Army overview opens
		stop_all_point_at_indicators;
		campaign_wait 1;
		enable_ui open_construction_options;
		ui_flash_start open_construction_options;
		monitor_event ConstructionPopulated TrueCondition;
			ui_flash_stop open_construction_options;
			point_at_card field_construction, watchtower;														;; Highlighter around Build Fort button
			disable_all_ui_cards field_construction;
			enable_ui_card field_construction, watchtower;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		
		monitor_event ConstructionItemClicked ConstructionItemClicked watchtower;

			set_counter TowerSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter TowerSelected = 0;
		end_while;
		enable_ui confirm_fconstruction_and_hiring_btn;
		ui_flash_start confirm_fconstruction_and_hiring_btn;																		;; Highlighter around Confirm button
		set_counter ConfirmBtnSelected 0;
		monitor_event ButtonPressed ButtonPressed confirm_fconstruction_and_hiring_btn;											;; Player left-click on the highlighted button

			set_counter ConfirmBtnSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter ConfirmBtnSelected = 0;																			;; Player left click on the highlighted unit
		end_while;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		set_counter ConfirmBtnSelected 0;
		disable_ui open_construction_options;
		ui_flash_stop confirm_fconstruction_and_hiring_btn;
		


        monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            goto labelTwenty;
        end_monitor;
 
        
		;;Move to Mediolanium and attack																							
		advance_advice_thread Prepare_For_The_Siege_1_type_b;																	;; TODO needs to be split to two files
		campaign_wait 1;
		set_label labelTwenty;
		point_at_character slot 0, Flavius Julius;																				;; Highlighter around player's general
		while_not I_CharacterSelected Flavius Julius;																	;; Player left-click on the highlighted character
		end_while;
		stop_all_point_at_indicators;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 81, 88;
		restrict_strat_movement romans_julii, 84, 92;
		;;point_at_settlement slot 1, Mediolanium;
		point_at_strat_position, slot 1, 84, 92;
		declare_counter NotifierOpened;
		monitor_event ScrollOpened ScrollOpened neutral_attack_warning_scroll;
			declare_counter NotifierPressed;
			enable_ui neutral_notifier_accept;
			disable_ui neutral_notifier_cancel;
			ui_flash_start neutral_notifier_accept;
			set_counter	NotifierOpened 1;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
            set_counter DeselectActionComplete 1;

        	force_deselect_trigger;
		end_monitor;
		
		while I_CompareCounter NotifierOpened = 0;
		end_while;
		set_counter NotifierOpened 0;
		monitor_event ButtonPressed ButtonPressed neutral_notifier_accept;
			set_counter	NotifierPressed 1;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter NotifierPressed = 0;
		end_while;
		set_counter NotifierPressed 0;
		stop_all_point_at_indicators;
		disable_ui neutral_notifier_accept;
		ui_flash_stop neutral_notifier_accept;

		monitor_event ScrollOpened ScrollOpened seige_scroll;
			enable_ui strat_ui;
			enable_ui campaign_hud;
			enable_ui siege_equipment_icon_ram;
			disable_ui siege_assault_button;																	
			ui_flash_start siege_equipment_icon_ram;
			disable_ui siege_equipment_icon_ladder;
			disable_ui siege_equipment_icon_siege_tower;
			disable_ui siege_equipment_icon_sap_points;
			disable_ui siege_maintain_button;
			disable_ui siege_end_button;

			terminate_monitor;
		end_monitor;

		declare_counter RamButtonPressed;
		monitor_event ButtonPressed ButtonPressed siege_equipment_icon_ram;
			enable_ui strat_ui;
			enable_ui campaign_hud;
			enable_ui siege_equipment_icon_ram;
			disable_ui siege_assault_button;
			disable_ui siege_equipment_icon_ladder;
			disable_ui siege_equipment_icon_siege_tower;
			disable_ui siege_equipment_icon_sap_points;
			disable_ui siege_equipment_icon_ram;																	
			ui_flash_start siege_equipment_icon_ram;
			disable_ui siege_maintain_button;
			disable_ui siege_end_button;
			
			set_counter RamButtonPressed 1;

			terminate_monitor;
		end_monitor;
		while I_CompareCounter RamButtonPressed = 0;																;; Player left-click on the highlighted button
		end_while;																										;; Advisor panel is automatically closed
		set_counter RamButtonPressed 0;
		disable_ui siege_equipment_icon_ram;
		ui_flash_stop siege_equipment_icon_ram;
		enable_ui siege_maintain_button;
		ui_flash_start siege_maintain_button;																				;; Highlighter around Maintain Siege button
		declare_counter MaintainButtonPressed;
		monitor_event ButtonPressed ButtonPressed siege_maintain_button;

		set_counter MaintainButtonPressed 1;

			terminate_monitor;
		end_monitor;


		while I_CompareCounter MaintainButtonPressed = 0;																;; Player left-click on the highlighted button
		end_while;																										;; Advisor panel is automatically closed
		set_counter MaintainButtonPressed 0;
		campaign_wait 1;																								;; Next advice triggered
		disable_ui siege_maintain_button;
		strat_selection_unblocker character off Flavius Julius;
		strat_selection_unblocker settlement off Mediolanium;

		;;Move ship with diplomat towards Caralis

		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 84, 67;
		restrict_strat_movement romans_julii, 83, 57;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1.5;
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            goto labelTwentyone;
        end_monitor;

 		advance_advice_thread Diplomacy_1_type_b;																				;; Message 1/5 displayed in Victoria's panel
		move_strat_camera 84, 67;
        set_label labelTwentyone;
		;;clear_strat_selection_unblocker;
		strat_selection_unblocker character on Admiral Oppius;
		strat_selection_unblocker character on Sextus Antio;
		enable_cursor;
		point_at_character slot 0, Oppius Clausus;																				;; Camera pans on Ship
		while_not I_CharacterSelected Oppius Clausus;																	;; Player left click to select the ship
		end_while;
		campaign_wait 1;
		stop_all_point_at_indicators;
		move_to_settlement Caralis;
		zoom_strat_camera 0.4;
		point_at_strat_position, slot 1, 83, 57;
		campaign_wait 1;
		inhibit_camera_input false;
		while_not I_CharacterTypeNearTile romans_julii admiral, 1.45 83,57;												;; Player right-click to Caralis to complete action
		end_while;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;

		campaign_wait 1;

		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            stop_all_point_at_indicators;
            goto labelTwentytwo;
        end_monitor;
 
        set_label labelTwentytwo;
		point_at_character slot 0, Oppius Clausus;
		while_not I_CharacterSelected Oppius Clausus;																	;; Player left click to select the ship
		end_while;
		stop_all_point_at_indicators;
		point_at_strat_position, slot 1, 82, 57;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 83, 57;
		restrict_strat_movement romans_julii, 82, 57;
		while_not I_CharacterTypeNearTile romans_julii diplomat, 0.0 82,57;												;; Player right-click to Caralis to complete action
		end_while;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		stop_all_point_at_indicators;
		strat_selection_unblocker character off Admiral Oppius;
		campaign_wait 1;

		monitor_event DiplomacyScrollPopulated TrueCondition;
			disable_ui diplomacy_item_trade_rights;
			disable_ui diplomacy_item_alliance;
			disable_ui diplomacy_item_attack_faction;
			disable_ui diplomacy_item_demand_attack_faction;
			disable_ui diplomacy_item_cede_region;
			disable_ui diplomacy_item_demand_cede_region;
			disable_ui diplomacy_item_single_payment;
			disable_ui diplomacy_item_demand_single_payment;
			disable_ui diplomacy_item_yearly_payment;
			disable_ui diplomacy_item_demand_yearly_payment;
			disable_ui diplomacy_item_map_information;
			disable_ui diplomacy_item_demand_map_information;
			disable_ui diplomacy_offer_button;
			disable_ui diplomacy_accept_offer_button;
			disable_ui diplomacy_decline_offer_button;
			disable_ui diplomacy_item_threat_of_attack;
			disable_ui diplomacy_item_bribe;
			disable_ui diplomacy_end_negotiations_button;
			if I_CompareCounter MapDemandPressed = 1;
				if I_CompareCounter DeselectActionComplete = 1;
                	terminate_monitor;
            	end_if;
			end_if;
			set_counter DeselectActionComplete 1;
        	force_deselect_trigger;
		end_monitor;

		deselect_current_selection;
		campaign_wait 1;
		advance_advice_thread Diplomacy_2_type_b;
		campaign_wait 1;																								;; Message 2/5 displayed in Victoria's panel
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            goto labelTwentytwotwo;
        end_monitor;
 
        set_label labelTwentytwotwo;
		point_at_character slot 0, Sextus Antio;																				;; Highlighter around Diplomat
		while_not I_CharacterSelected Sextus Antio;																		;; Player left click on the Diplomat
		end_while;
		stop_all_point_at_indicators;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 82, 57;
		restrict_strat_movement romans_julii, 79, 57;
		campaign_wait 1;
		point_at_strat_position, slot 1, 79, 57;
		monitor_event ScrollOpened ScrollOpened diplomacy_scroll;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
            set_counter DiplomacyStarted 1;
            set_counter DeselectActionComplete 1;
        	force_deselect_trigger;
		end_monitor;
		while I_CompareCounter DiplomacyStarted = 0;																	;; Player right-click on Caralis settlement to begin negotiation
		end_while;
		stop_all_point_at_indicators; 																										;; Next advice triggered
		campaign_wait 1;
		advance_advice_thread Diplomacy_3_type_b;																				;; Message 3/5 displayed in Victoria's panel
		campaign_wait 8;
		enable_ui diplomacy_item_trade_rights;
		ui_flash_start diplomacy_item_trade_rights;																		;;Highlighter around Trade rights and Map information in the list of Offers
		monitor_event ButtonPressed ButtonPressed diplomacy_item_trade_rights;											;;Player left click on both Trade Rights and Map Information

			set_counter	TradeOfferPressed 1;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter TradeOfferPressed = 0;
		end_while;
		set_counter	TradeOfferPressed 0;
		ui_flash_stop diplomacy_item_trade_rights;
		campaign_wait 1;

		enable_ui diplomacy_item_map_information;
		ui_flash_start diplomacy_item_map_information;																	;;Highlighter around Trade rights and Map information in the list of Offers
		monitor_event ButtonPressed ButtonPressed diplomacy_item_map_information;										;;Player left click on both Trade Rights and Map Information

			set_counter	MapOfferPressed 1;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter MapOfferPressed = 0;
		end_while;
		set_counter	MapOfferPressed 0;
		ui_flash_stop diplomacy_item_map_information;
		campaign_wait 1;

		ui_flash_start diplomacy_item_demand_map_information;															;;Highlighter around Map information in the list of Demands
		enable_ui diplomacy_item_demand_map_information;
		monitor_event ButtonPressed ButtonPressed diplomacy_item_demand_map_information;								;;Player left click on Map Information from the list of demands

			set_counter	MapDemandPressed 1;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter MapDemandPressed = 0;																	;;Next advice triggered
		end_while;
		set_counter	MapDemandPressed 0;
		ui_flash_stop diplomacy_item_demand_map_information;
		campaign_wait 1;
		advance_advice_thread Diplomacy_4_type_b;																				;; Message 4/5 displayed in Victoria's panel

		campaign_wait 0.1;
		ui_flash_start diplomacy_offer_button;																			;;Highlighter around Send Proposal button
		enable_ui diplomacy_offer_button;
		monitor_event ButtonPressed ButtonPressed diplomacy_offer_button;												;;Player left click on the highlighted button

			ui_flash_start diplomacy_offer_button;
			set_counter	MakeOfferPressed 1;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter MakeOfferPressed = 0;																	;;Next advice triggered
		end_while;
		set_counter	MakeOfferPressed 0;
		ui_flash_stop diplomacy_offer_button;
		advance_advice_thread Diplomacy_5_type_b;																				;; Message 5/5 displayed in Victoria's panel
		disable_ui diplomacy_offer_button;
		campaign_wait 1;
		;;while I_AdvisorSpeechPlaying;
		;;end_while;

		zoom_strat_camera 0.5;
		ui_flash_start diplomacy_end_negotiations_button;
		enable_ui diplomacy_end_negotiations_button;
		campaign_wait 0.1;
		set_counter CloseDialogPressed 0;
		monitor_event ButtonPressed ButtonPressed diplomacy_end_negotiations_button;

			set_counter	CloseDialogPressed 1;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;

		while I_CompareCounter CloseDialogPressed = 0;
		end_while;
		set_counter	CloseDialogPressed 0;
		ui_flash_stop diplomacy_end_negotiations_button;
		deselect_current_selection;
		strat_selection_unblocker character off Sextus Antio;
		campaign_wait 1;




		;;Build walls in Segesta (explain settlement defences)
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            stop_all_point_at_indicators;
            point_at_settlement slot 0, Segesta;
            ui_flash_start open_construction_options;
            goto turn4_SegestaWalls;
        end_monitor;
 

        
		advance_advice_thread Walls_1_type_b; 
		set_label turn4_SegestaWalls;
		campaign_wait 1;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1;																					;; Message displayed in Victoria's panel
		move_to_settlement Segesta;																						;; Camera pans to Segesta
		campaign_wait 1;
		point_at_settlement slot 0, Segesta;
		;;settlement_flash_start Segesta;
		strat_selection_unblocker settlement on Segesta;
		;;campaign_wait 1;
		enable_cursor;
		inhibit_camera_input false;
		set_counter SegestaSelected 0;
		monitor_event SettlementSelected SettlementName Segesta;

			set_counter SegestaSelected 1;

			terminate_monitor;
		end_monitor;

		while I_CompareCounter SegestaSelected = 0;																		;; Player left-click on the highlighted settlement
		end_while;																										;; Segesta overview opens
		;;settlement_flash_stop Segesta;
		set_counter SegestaSelected 0;
		stop_all_point_at_indicators;
		campaign_wait 1;
		enable_ui open_construction_options;
		ui_flash_start open_construction_options;
		monitor_event ConstructionPopulated TrueCondition;
			ui_flash_stop open_construction_options;
			point_at_card construction, wooden_pallisade;																;; Highlighter around Walls
			disable_all_ui_cards construction;
			enable_ui_card construction, wooden_pallisade;
		end_monitor;
		campaign_wait 0.1;
		monitor_event ConstructionItemClicked ConstructionItemClicked wooden_pallisade;									;; Player left-click on the highlighted card

			set_counter PallisadeSelected 1;																			;; Walls in added to queue
			disable_all_ui_cards construction;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter PallisadeSelected = 0;																	;; Advisor panel is automatically closed
		end_while;																										;; Next advice triggered
		disable_all_ui_cards construction;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		disable_ui open_construction_options;
		campaign_wait 1;
		deselect_current_selection;
		campaign_wait 1;
		strat_selection_unblocker settlement off Segesta;
		stop_all_point_at_indicators;



		;;Move troops from Arretium to Ariminum
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            ;;ui_flash_start open_construction_options;
            stop_all_point_at_indicators;
            point_at_settlement slot 4, Arretium;
            monitor_event SettlementSelected SettlementName Arretium;

			set_counter ArretiumSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
			end_monitor;

			while I_CompareCounter ArretiumSelected = 0;																	;; Player left-click on the highlighted settlement
			end_while;																										;; Arretium overview opens
			ui_card_selection_lock off;
			stop_all_point_at_indicators;
			set_counter ArretiumSelected 0;
            goto turn4_ArretiumToAriminum;
        end_monitor;



		advance_advice_thread Whats_Next_1_type_b;																				;; Message displayed in Victoria's panel
		campaign_wait 1;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1.5;

		move_to_settlement Arretium;																					;; Camera pans to Arretium
		campaign_wait 1;
		point_at_settlement slot 4, Arretium;
		;;settlement_flash_start Arretium;																				;; Highlighter around Arretium
		strat_selection_unblocker settlement on Arretium;
		campaign_wait 1;
		enable_cursor;
		inhibit_camera_input false;
		set_counter ArretiumSelected 0;
		monitor_event SettlementSelected SettlementName Arretium;

			set_counter ArretiumSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;

		while I_CompareCounter ArretiumSelected = 0;																	;; Player left-click on the highlighted settlement
		end_while;																										;; Arretium overview opens
		;;settlement_flash_stop Arretium;
		force_settlement_tab units;
		stop_all_point_at_indicators;
		set_counter ArretiumSelected 0;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 91, 80;
		campaign_wait 0.1;

		;; Player left-click on the highlighted cards
		move_to_settlement Ariminum;																					;; Camera pans to Ariminum
		campaign_wait 1;

        disable_all_ui_cards unit;
        enable_ui_card unit, 1;
        enable_ui_card unit, 2;
        enable_ui_card unit, 3;
		point_at_strat_position, slot 0, 96, 82;
		point_at_card unit, slot 1, 1;
		point_at_card unit, slot 2, 2;
		point_at_card unit, slot 3, 3;
		while_not I_UnitCardSelected roman triarii, 1, roman hastati, 2;
		end_while;
		ui_card_selection_lock on;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 91, 80;
		restrict_strat_movement romans_julii, 96, 82;
		
		while_not I_CompareCounter units_moved = 3;
			set_label turn4_ArretiumToAriminum;
			disable_all_ui_cards unit;
			enable_ui_card unit, 1;	
			enable_ui_card unit, 2;
			enable_ui_card unit, 3;
			point_at_strat_position, slot 0, 96, 82;
			point_at_card unit, slot 1, 1;
			point_at_card unit, slot 2, 2;
			point_at_card unit, slot 3, 3;
			campaign_wait 4;
			if I_AmountOfUnitInSettlement Ariminum 1 roman triarii;
				if I_CompareCounter units_moved = 1;
					set_counter units_moved 3;
				end_if;
				if I_CompareCounter units_moved = 0;
					set_counter units_moved 2;
				end_if;
			end_if;
			if I_AmountOfUnitInSettlement Ariminum 2 roman hastati;
				if I_CompareCounter units_moved = 2;
					set_counter units_moved 3;
				end_if;
				if I_CompareCounter units_moved = 0;
					set_counter units_moved 1;
				end_if;
				set_counter DeselectActionComplete 1;
        		force_deselect_trigger;
			end_if;
		end_while;
		
		ui_card_selection_lock off;
		stop_all_point_at_indicators;
		deselect_current_selection;																										;;Troops move
		strat_selection_unblocker settlement off Arretium;
		strat_selection_unblocker settlement on Ariminum;
		campaign_wait 2;




		;;Build road upgrade in Ariminum
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            ui_flash_start open_construction_options;
            point_at_settlement slot 0, Ariminum;
			set_counter AriminumSelected 0;
            goto labelTwentythree;
        end_monitor;
 
        
		advance_advice_thread Roads_1_type_b;																					;; Message displayed in Victoria's panel
		set_label labelTwentythree;
		campaign_wait 1;
		point_at_settlement slot 0, Ariminum;
		set_counter AriminumSelected 0;
		monitor_event SettlementSelected SettlementName Ariminum;
			set_counter AriminumSelected 1;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;

		end_monitor;

		while I_CompareCounter AriminumSelected = 0;
		end_while;
		stop_all_point_at_indicators;
		set_counter AriminumSelected 0;
		campaign_wait 0.1;
		enable_ui open_construction_options;
		ui_flash_start open_construction_options;
		monitor_event ConstructionPopulated TrueCondition;
			ui_flash_stop open_construction_options;
			point_at_card construction, paved_roads;																	;; Highlighter around Roads card
			disable_all_ui_cards construction;
			enable_ui_card construction, paved_roads;
		end_monitor;
		campaign_wait 0.1;
		monitor_event ConstructionItemClicked ConstructionItemClicked paved_roads;
			set_counter RoadSelected 1;
			disable_all_ui_cards construction;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;

		end_monitor;
		while I_CompareCounter RoadSelected = 0;																		;; Player left-click on the highlighted card
		end_while;																										;; Next advice triggered
		disable_all_ui_cards construction;
		campaign_wait 1;
		disable_ui open_construction_options;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
        campaign_wait 1;

        monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            point_at_settlement slot 0, Ariminum;
            ui_flash_start open_recruitement_options;
            goto labelTwentyfour;
        end_monitor;
 


		;;Build ship at Ariminum 																						;; TODO audio needs to be split into 3 parts
		advance_advice_thread Ships_1_type_b;																					;; Message (first and second paragraphs) displayed in Victoria's panel
		set_label labelTwentyfour;
		enable_ui open_recruitement_options;
		ui_flash_start open_recruitement_options;																			;; Highlighter around Recruitment button
		campaign_wait 1;
		monitor_event RecruitmentPopulated TrueCondition;
			ui_flash_stop open_recruitement_options;
			stop_all_point_at_indicators;
			point_at_card recruitment, naval biremes;																	;; Highlighter around Ships card
			disable_all_ui_cards recruitment;
			enable_ui_card recruitment, naval biremes;
		end_monitor;

		monitor_event RecruitmentItemClicked RecruitmentItemClicked naval biremes;										;; Player left-click on the highlighted card
			stop_all_point_at_indicators;
			set_counter BiremeSelected 1;
			disable_all_ui_cards recruitment;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter BiremeSelected = 0;
		end_while;
		disable_all_ui_cards recruitment;
		set_counter BiremeSelected 0;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		ui_flash_stop open_recruitement_options;
		disable_ui open_recruitement_options;
		stop_all_point_at_indicators;
		campaign_wait 1;
		deselect_current_selection;
		strat_selection_unblocker settlement off Ariminum;

		;;Message (third paragraph) displayed in Victoria's panel




		;;END TURN
		campaign_wait 2;
		advance_advice_thread Ships_2_type_b;
		enable_ui end_turn;
		ui_flash_start end_turn;
		monitor_event ButtonPressed ButtonPressed end_turn;																;; Player left-click on the End Turn button
			set_counter	PressEndTurn 4;
			terminate_monitor;
		end_monitor;


		while I_CompareCounter PressEndTurn = 3;
		end_while;
		disable_ui end_turn;
		disable_ui stop_tutorial_button;
		ui_flash_stop end_turn;


		monitor_event FactionTurnEnd FactionType romans_julii;
			set_counter isPlayerTurn 0;
		end_monitor;
		while I_IsPlayerTurn = 1;
		end_while;


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; TURN 5
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


		monitor_event FactionTurnStart FactionType romans_julii;
			set_counter isPlayerTurn 1;
		end_monitor;
		while I_IsPlayerTurn = 0;
		end_while;
		spawn_army;
			faction romans_julii;
				character Herius, general, age 29, , x 83, y 91;
				unit		roman onager			soldiers 0 exp 1 armour 1 weapon_lvl 1;
				;;unit		merc barbarian cavalry		soldiers 0	exp 1 armour 1 weapon_lvl 1;
		end;
		
		forced_gate_success on, 0;
		enable_ui stop_tutorial_button;
		disable_ui agent_confirm_button;

		campaign_wait 3;



		;;Accept Marriage Proposal
		advance_advice_thread Marriage_Proposal_1_type_b;																		;; Message displayed in Victoria's panel
		trigger_marriage_proposal 1;
		enable_ui news_list_items;
		enable_ui show_alerts_tab;
		ui_flash_start show_alerts_tab;																					;; Highlighter around Marriage proposal Notification

		set_counter AlertsPressed 0;
		monitor_event ButtonPressed ButtonPressed show_alerts_tab;														;; Player left-click on the Alerts button
			set_counter	AlertsPressed 1;
			terminate_monitor;
		end_monitor;
		campaign_wait 0.1;
		while I_CompareCounter AlertsPressed = 0;																		;; Player left-click on the highlighted button
		end_while;
		set_counter	AlertsPressed 0;
		campaign_wait 0.5;
		ui_flash_start a_suitable_husband;
		monitor_event MessageOpen IncomingMessageType suitor_available_for_daughter;									;; Player left-click on the Marriage proposal news
			disable_ui decline_button;
			enable_ui accept_button;
			ui_flash_start accept_button;																				;; Highlighter around Decline button
		end_monitor;
		set_counter MarriageChoice 0;
		monitor_event ButtonPressed ButtonPressed accept_button;														;; Player left-click on the Accept button
			set_counter	MarriageChoice 1;
			terminate_monitor;
		end_monitor;
		campaign_wait 0.1;
		while I_CompareCounter MarriageChoice = 0;																		;; Player left-click on the highlighted button
		end_while;
		set_counter	MarriageChoice 0;
		disable_ui accept_button;
		ui_flash_stop accept_button;
		campaign_wait 0.1;																								;; Next advice triggered
		ui_flash_start show_alerts_tab;																					;; Highlighter around Marriage proposal Notification
		monitor_event ButtonPressed ButtonPressed show_alerts_tab;														;; Player left-click on the Alerts button
			set_counter	AlertsPressed 1;
			terminate_monitor;
		end_monitor;
		campaign_wait 0.1;
		while I_CompareCounter AlertsPressed = 0;																		;; Player left-click on the highlighted button
		end_while;
		set_counter	AlertsPressed 0;
		ui_flash_stop show_alerts_tab;
		disable_ui show_alerts_tab;
		disable_ui news_list_items;



		;; Trigger siege assault at Mediolanium, start (Siege battle tutorial)
		campaign_wait 1;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1.5;
		move_to_settlement Mediolanium;																						;; Camera pans to Arretium
		campaign_wait 1.5;
		enable_cursor;
		inhibit_camera_input false;
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            point_at_settlement slot 0, Ariminum;
            goto labelTwentyfive;
        end_monitor;
        											
		advance_advice_thread Lay_Siege_1_type_b;																				;; Message displayed in Victoria's panel
		set_label labelTwentyfive;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 83, 91;
		restrict_strat_movement romans_julii, 84, 92;
		restrict_strat_movement romans_julii, 89, 85;																			;;TODO workaround
		restrict_strat_movement romans_julii, 88, 89;																			;;TODO workaround
		point_at_character, slot 0, Flavius Julius;
		strat_selection_unblocker character on Flavius Julius;

		clear_restrict_strat_movement;																							;;TODO workaround
		clear_strat_selection_unblocker;																						;;TODO workaround

		
		while_not I_CharacterSelected Flavius Julius;
		end_while;

		stop_all_point_at_indicators;
		point_at_settlement slot 0, Mediolanium;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		monitor_event ScrollOpened ScrollOpened seige_scroll;
			strat_selection_unblocker settlement on Mediolanium;
			stop_all_point_at_indicators;
			enable_ui strat_ui;
			enable_ui campaign_hud;
			enable_ui siege_assault_button;
			ui_flash_start siege_assault_button;
			disable_ui siege_maintain_button;
			disable_ui siege_end_button;
			
			terminate_monitor;
		end_monitor;

		monitor_event ButtonPressed ButtonPressed siege_assault_button;

		set_counter AssaultButtonPressed 1;

			terminate_monitor;
		end_monitor;

		while I_CompareCounter AssaultButtonPressed = 0;																		;; Player left-click on the Assault button
		end_while;
		set_counter AssaultButtonPressed 0;
		



		;;Battle details

		monitor_event ScrollOpened ScrollOpened prebattle_scroll;
			disable_ui prebattle_auto_resolve_button;
			enable_ui prebattle_fight_button;
			disable_ui prebattle_withdraw_button;
			ui_flash_stop siege_assault_button;
			ui_flash_start prebattle_fight_button;

			terminate_monitor;
		end_monitor;

		monitor_event ButtonPressed ButtonPressed prebattle_fight_button;
		;;monitor_event ButtonPressed ButtonPressed prebattle_auto_resolve_button;
		set_counter FightButtonPressed 1;

			terminate_monitor;
		end_monitor;

		while I_CompareCounter FightButtonPressed = 0;
		end_while;
		set_counter FightButtonPressed 0;

		inhibit_camera_input false;
		ui_flash_stop prebattle_fight_button;
		disable_ui stop_tutorial_button;


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; MEDIOLANUM BATTLE
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

		include_script battle_mediolanum.txt;

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; MEDIOLANUM BATTLE
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;



		;; Congratulations!

		while I_CompareCounter MediolaniumCaptured = 0;
		end_while;
		disable_entire_ui;
		enable_ui campaign_map_pause_button;
		enable_ui advisor_continue;
		enable_ui type_c_advisor_highlight;
		enable_ui type_c_advisor_button;
		enable_ui wonder_close_button;
		enable_ui stop_tutorial_button;
		disable_ui agent_confirm_button;
		disable_shortcuts true;
		disable_shortcuts camera::step_l false;
		disable_shortcuts camera::rot_l false;
		disable_shortcuts camera::step_r false;
		disable_shortcuts camera::rot_r false;
		disable_shortcuts camera::step_fwd false;
		disable_shortcuts camera::step_bck false;
		disable_shortcuts camera::mousescr_out false;
		disable_shortcuts camera::mousescr_up false;

		set_counter EnslaveButtonPressed 0;
		monitor_event ButtonPressed ButtonPressed loot_settlement_enslave_button;

			set_counter EnslaveButtonPressed 1;

			terminate_monitor;
		end_monitor;
		monitor_event ScrollOpened ScrollOpened loot_settlement_scroll;
			advance_advice_thread Congratulations_2_type_b;																				;; Message displayed in Victoria's panel
			disable_ui loot_settlement_occupy_button;
			enable_ui loot_settlement_enslave_button;
			disable_ui loot_settlement_extermintate_button;
			ui_flash_start loot_settlement_enslave_button;
			terminate_monitor;
		end_monitor;

		campaign_wait 0.5;
		while I_CompareCounter EnslaveButtonPressed = 0;																			;; Player left-click on the Enslave button
		end_while;
		ui_flash_stop loot_settlement_enslave_button;
		campaign_wait 1;
		deselect_current_selection;
		zoom_strat_camera 0.3;
		campaign_wait 1;




		;;Explain Squalor
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            ui_flash_start open_construction_options;
            goto labelTwentysix;
        end_monitor;
        set_label labelTwentysix;
 		advance_advice_thread Squalor_1_type_b;																							;; Message displayed in Victoria's panel
		point_at_settlement Mediolanium;

		set_counter MediolaniumSelected 0;
		monitor_event SettlementSelected SettlementName Mediolanium;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
			set_counter MediolaniumSelected 1;
		end_monitor;

		while I_CompareCounter MediolaniumSelected = 0;
		end_while;
		stop_all_point_at_indicators;
		set_counter MediolaniumSelected 0;
		campaign_wait 1;
		enable_ui open_construction_options;
		ui_flash_start open_construction_options;
		monitor_event ConstructionPopulated TrueCondition;
			ui_flash_stop open_construction_options;
			point_at_card construction, sewers;																						;; Highlighter around Sewers button in the list of the available constructions
			disable_all_ui_cards construction;
			enable_ui_card construction, sewers;
		end_monitor;
		campaign_wait 0.1;


		monitor_event ConstructionItemClicked ConstructionItemClicked sewers;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
			stop_all_point_at_indicators;
			disable_all_ui_cards construction;
			set_counter SewerSelected 1;
		end_monitor;
		while I_CompareCounter SewerSelected = 0;																					;; Player left click on the highlighted item
		end_while;
		disable_all_ui_cards construction;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		campaign_wait 2;
		disable_ui open_construction_options;
		deselect_current_selection;
		strat_selection_unblocker character off Flavius Julius;
		stop_all_point_at_indicators;
		campaign_wait 1;

		;;===================================================
		;;Explain Lists
		;;===================================================
		;;===================================================
		;;Arretium Construction
		;;===================================================

		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            stop_all_point_at_indicators;
            disable_ui open_construction_options;
            point_at_settlement slot 0, Arretium;
            goto labelQListOne_1;
        end_monitor;


		campaign_wait 1;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1;
		set_label labelQListOne_1;
        advance_advice_thread Quick_Lists_1_type_b;
		move_to_settlement Arretium;																						;; Camera pans to Arretium
		strat_selection_unblocker settlement on Arretium;																				;; Highlighter around Arretium
		point_at_settlement slot 0, Arretium;
		campaign_wait 0.1;
		enable_cursor;
		inhibit_camera_input false;
		set_counter ArretiumSelected 0;
		monitor_event SettlementSelected SettlementName Arretium;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
			set_counter ArretiumSelected 1;
		end_monitor;
		while I_CompareCounter ArretiumSelected = 0;																		;; Player left click on the highlighted Settlement
		end_while;
		stop_all_point_at_indicators;
		;;set_counter ArretiumSelected 0;
		campaign_wait 0.1;

		enable_ui quick_list_button;
		disable_ui hud_prev_item_cycle;
		disable_ui hud_next_item_cycle;
		ui_flash_start quick_list_button;
		set_counter QuickListPressed 0;
		monitor_event ButtonPressed ButtonPressed quick_list_button;
			set_counter	QuickListPressed 1;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter QuickListPressed = 0;
		end_while;
		stop_all_point_at_indicators;
		
		ui_flash_stop quick_list_button;
		set_counter QuickListPressed 0;
		campaign_wait 0.5;

		ui_flash_start open_construction_options;
		enable_ui open_construction_options;
		monitor_event ConstructionPopulated TrueCondition;
			stop_all_point_at_indicators;
			enable_all_ui_cards construction;
			ui_flash_start available_construction_options;
		end_monitor;
		monitor_event ConstructionItemClicked TrueCondition;
			stop_all_point_at_indicators;
			disable_all_ui_cards construction;
			enable_ui open_recruitement_options;
			disable_ui open_construction_options;
			ui_flash_start open_recruitement_options;
			set_counter DeselectActionComplete 1;
        	force_deselect_trigger;
			set_counter QuickListStop 1;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;

		while I_CompareCounter QuickListStop = 0;																		;; Player left click on the highlighted Settlement
		end_while;
		set_counter QuickListStop 0;
		disable_all_ui_cards construction;
		;;===================================================
		;;Arretium Recruitment
		;;===================================================

		;;monitor_event ItemDeselected TrueCondition;
        ;;    if I_CompareCounter DeselectActionComplete = 1;
        ;;        set_counter DeselectActionComplete 0;
        ;;        terminate_monitor;
        ;;    end_if;
        ;;    stop_all_point_at_indicators;
        ;;    point_at_settlement slot 0, Arretium;
        ;;    set_counter ArretiumSelected 0;
		;;	monitor_event SettlementSelected SettlementName Arretium;
		;;		if I_CompareCounter DeselectActionComplete = 1;
        ;;       		terminate_monitor;
        ;;    	end_if;
		;;		set_counter ArretiumSelected 1;
		;;	end_monitor;
		;;	while I_CompareCounter ArretiumSelected = 0;																		;; Player left click on the highlighted Settlement
		;;	end_while;
		;;	stop_all_point_at_indicators;
        ;;    ui_flash_start quick_list_button;
        ;;    set_counter QuickListPressed 0;
		;;	monitor_event ButtonPressed ButtonPressed quick_list_button;
		;;		set_counter	QuickListPressed 1;
		;;		if I_CompareCounter DeselectActionComplete = 1;
        ;;    	    terminate_monitor;
        ;;   		end_if;
		;;	end_monitor;
		;;	while I_CompareCounter QuickListPressed = 0;
		;;	end_while;
		;;	stop_all_point_at_indicators;
		
		;;	ui_flash_stop quick_list_button;
		;;	set_counter QuickListPressed 0;
		;;	campaign_wait 0.1;
        ;;   goto labelQListOne_2;
        ;;end_monitor;
        ;;set_label labelQListOne_2;

        ui_flash_start open_recruitement_options;
		monitor_event RecruitmentPopulated TrueCondition;
			stop_all_point_at_indicators;
			enable_all_ui_cards recruitment;
			ui_flash_stop open_recruitement_options;
			ui_flash_start training_card_frame;
		end_monitor;
		monitor_event RecruitmentItemClicked TrueCondition;
			stop_all_point_at_indicators;
			disable_all_ui_cards recruitment;
			enable_ui hud_next_item_cycle;
			disable_ui open_recruitement_options;
			ui_flash_start hud_next_item_cycle;
			strat_selection_unblocker settlement on Ariminum;
			;;set_counter DeselectActionComplete 1;
        	;;force_deselect_trigger;
        	set_counter QuickListStop 1;
			;;if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            ;;end_if;
		end_monitor;

		while I_CompareCounter QuickListStop = 0;																		;; Player left click on the highlighted Settlement
		end_while;
		set_counter QuickListStop 0;
		disable_all_ui_cards recruitment;
		;;===================================================
		;;Ariminum Recruitment
		;;===================================================


		;;monitor_event ItemDeselected TrueCondition;
        ;;    if I_CompareCounter DeselectActionComplete = 1;
        ;;        set_counter DeselectActionComplete 0;
        ;;        terminate_monitor;
        ;;    end_if;
        ;;    point_at_settlement slot 0, Arretium;
        ;;    set_counter ArretiumSelected 0;
		;;	monitor_event SettlementSelected SettlementName Arretium;
		;;		if I_CompareCounter DeselectActionComplete = 1;
        ;;       		terminate_monitor;
        ;;    	end_if;
		;;		set_counter ArretiumSelected 1;
		;;	end_monitor;
		;;	while I_CompareCounter ArretiumSelected = 0;																		;; Player left click on the highlighted Settlement
		;;	end_while;
		;;	set_counter ArretiumSelected 0;
		;;	stop_all_point_at_indicators;
        ;;    ui_flash_start quick_list_button;
		;;	monitor_event ButtonPressed ButtonPressed quick_list_button;
		;;		set_counter	QuickListPressed 1;
		;;		if I_CompareCounter DeselectActionComplete = 1;
        ;;   	    	terminate_monitor;
        ;;    	end_if;
		;;	end_monitor;
		;;	while I_CompareCounter QuickListPressed = 0;
		;;	end_while;
		;;	stop_all_point_at_indicators;
		
		;;	ui_flash_stop quick_list_button;
		;;	set_counter QuickListPressed 0;
		;;	campaign_wait 0.1;
        ;;    point_at_settlement slot 0, Ariminum;
        ;;    goto labelQListTwo_1;
        ;;end_monitor;


		set_counter AriminumSelected 0;
		monitor_event SettlementSelected SettlementName Ariminum;
			stop_all_point_at_indicators;
			strat_selection_unblocker settlement off Arretium;
			ui_flash_stop hud_next_item_cycle;
			enable_ui open_recruitement_options;
			ui_flash_start training_card_frame;
			set_counter AriminumSelected 1;
			;;if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            ;;end_if;
            ui_flash_start training_card_frame;
		end_monitor;
		while I_CompareCounter AriminumSelected = 0;																		;; Player left click on the highlighted Settlement
		end_while;
		set_counter AriminumSelected 0;
        ;;set_label labelQListTwo_1;
		campaign_wait 1;
		disable_ui hud_next_item_cycle;
		disable_ui open_construction_options;
		
		monitor_event RecruitmentPopulated TrueCondition;
			;;ui_flash_stop open_recruitement_options;
			enable_all_ui_cards recruitment;
			ui_flash_start training_card_frame;
		end_monitor;
		monitor_event RecruitmentItemClicked TrueCondition;
			stop_all_point_at_indicators;
			disable_all_ui_cards recruitment;
			enable_ui hud_next_item_cycle;
			disable_ui open_recruitement_options;
			ui_flash_stop training_card_frame;
			ui_flash_start hud_next_item_cycle;
			strat_selection_unblocker settlement on Segesta;
			;;set_counter DeselectActionComplete 1;
        	;;force_deselect_trigger;
        	set_counter QuickListStop 1;
            terminate_monitor;
		end_monitor;

		while I_CompareCounter QuickListStop = 0;																		;; Player left click on the highlighted Settlement
		end_while;
		set_counter QuickListStop 0;
		disable_all_ui_cards recruitment;
		;;===================================================
		;;Segesta Recruitment
		;;===================================================

		;;monitor_event ItemDeselected TrueCondition;
        ;;    if I_CompareCounter DeselectActionComplete = 1;
        ;;        set_counter DeselectActionComplete 0;
        ;;        terminate_monitor;
        ;;    end_if;
        ;;    point_at_settlement slot 0, Segesta;
        ;;    set_counter SegestaSelected 0;
		;;	monitor_event SettlementSelected SettlementName Segesta;
		;;		strat_selection_unblocker settlement off Ariminum;
		;;		ui_flash_stop hud_next_item_cycle;
		;;		set_counter SegestaSelected 1;
		;;		if I_CompareCounter DeselectActionComplete = 1;
       	;;        	terminate_monitor;
       	;;    	end_if;
		;;	end_monitor;
		;;	while I_CompareCounter SegestaSelected = 0;
		;;	end_while;
		
		;;	set_counter SegestaSelected 0;
        ;;    ui_flash_start quick_list_button;
		;;	monitor_event ButtonPressed ButtonPressed quick_list_button;
		;;		set_counter	QuickListPressed 1;
		;;		if I_CompareCounter DeselectActionComplete = 1;
        ;;	        terminate_monitor;
        ;;	    end_if;
		;;	end_monitor;
		;;	while I_CompareCounter QuickListPressed = 0;
		;;	end_while;
		;;	stop_all_point_at_indicators;
		
		;;	ui_flash_stop quick_list_button;
		;;	set_counter QuickListPressed 0;
		;;	campaign_wait 1;
            ;;point_at_settlement slot 0, Segesta;
        ;;    goto labelQListThree_1;
        ;;end_monitor;
        
		set_counter SegestaSelected 0;
		monitor_event SettlementSelected SettlementName Segesta;
			strat_selection_unblocker settlement off Ariminum;
			ui_flash_stop hud_next_item_cycle;
			set_counter SegestaSelected 1;
			ui_flash_start training_card_frame;
			;;if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            ;;end_if;
            
		end_monitor;
		while I_CompareCounter SegestaSelected = 0;
		end_while;
		
		set_counter SegestaSelected 0;
		campaign_wait 1;
		;;set_label labelQListThree_1;
		disable_ui hud_next_item_cycle;
		disable_ui open_construction_options;
		enable_ui open_recruitement_options;
		;;ui_flash_start open_recruitement_options;
		monitor_event RecruitmentPopulated TrueCondition;
			enable_all_ui_cards recruitment;
			;;ui_flash_stop open_recruitement_options;
			ui_flash_start training_card_frame;
		end_monitor;
		monitor_event RecruitmentItemClicked TrueCondition;
			stop_all_point_at_indicators;
			disable_all_ui_cards recruitment;
			enable_ui open_construction_options;
			disable_ui open_recruitement_options;
			ui_flash_stop training_card_frame;
			ui_flash_start open_construction_options;
			;;set_counter DeselectActionComplete 1;
        	;;force_deselect_trigger;
        	set_counter QuickListStop 1;
			;;if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            ;;end_if;

		end_monitor;

		while I_CompareCounter QuickListStop = 0;																		;; Player left click on the highlighted Settlement
		end_while;
		set_counter QuickListStop 0;
		disable_all_ui_cards recruitment;
		;;===================================================
		;;Segesta Construction
		;;===================================================

		;;monitor_event ItemDeselected TrueCondition;
        ;;    if I_CompareCounter DeselectActionComplete = 1;
        ;;        set_counter DeselectActionComplete 0;
        ;;        terminate_monitor;
        ;;    end_if;

        ;;    point_at_settlement slot 0, Segesta;
        ;;    set_counter SegestaSelected 0;
		;;	monitor_event SettlementSelected SettlementName Segesta;
		;;		ui_flash_stop hud_next_item_cycle;
		;;		set_counter SegestaSelected 1;
		;;		if I_CompareCounter DeselectActionComplete = 1;
       	;;        	terminate_monitor;
       	;;    	end_if;
		;;	end_monitor;
		;;	while I_CompareCounter SegestaSelected = 0;
		;;	end_while;
		
		;;	set_counter SegestaSelected 0;
        ;;    ui_flash_start quick_list_button;
		;;	monitor_event ButtonPressed ButtonPressed quick_list_button;
		;;		set_counter	QuickListPressed 1;
		;;		if I_CompareCounter DeselectActionComplete = 1;
        ;;	        terminate_monitor;
        ;;	    end_if;
		;;	end_monitor;
		;;	while I_CompareCounter QuickListPressed = 0;
		;;	end_while;
		;;	stop_all_point_at_indicators;
		
		;;	ui_flash_stop quick_list_button;
		;;	set_counter QuickListPressed 0;
		;;	campaign_wait 1;
        ;;    goto labelQListThree_2;
        ;;end_monitor;
        ;;set_label labelQListThree_2;

		monitor_event ConstructionPopulated TrueCondition;
			ui_flash_stop open_construction_options;
			enable_all_ui_cards construction;
			ui_flash_start available_construction_options;
		end_monitor;
		monitor_event ConstructionItemClicked TrueCondition;
			stop_all_point_at_indicators;
			disable_all_ui_cards construction;
			enable_ui hud_next_item_cycle;
			disable_ui open_construction_options;
			ui_flash_start hud_next_item_cycle;
			strat_selection_unblocker settlement on Mediolanium;
			;;set_counter DeselectActionComplete 1;
        	;;force_deselect_trigger;
        	set_counter QuickListStop 1;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter QuickListStop = 0;																		;; Player left click on the highlighted Settlement
		end_while;
		set_counter QuickListStop 0;
		disable_all_ui_cards construction;
		;;===================================================
		;;Mediolanum Recruitment
		;;===================================================

		;;monitor_event ItemDeselected TrueCondition;
        ;;    if I_CompareCounter DeselectActionComplete = 1;
        ;;        set_counter DeselectActionComplete 0;
        ;;        terminate_monitor;
        ;;    end_if;
        ;;    point_at_settlement slot 0, Mediolanium;
        ;;    set_counter MediolaniumSelected 0;
		;;	monitor_event SettlementSelected SettlementName Mediolanium;
		;;		strat_selection_unblocker settlement off Segesta;
		;;		ui_flash_stop hud_next_item_cycle;
		;;		set_counter MediolaniumSelected 1;
		;;		if I_CompareCounter DeselectActionComplete = 1;
       	;;        	terminate_monitor;
       	;;    	end_if;
		;;	end_monitor;
		;;	while I_CompareCounter MediolaniumSelected = 0;
		;;	end_while;
		
		;;	set_counter MediolaniumSelected 0;
        ;;    ui_flash_start quick_list_button;
		;;	monitor_event ButtonPressed ButtonPressed quick_list_button;
		;;		set_counter	QuickListPressed 1;
		;;		if I_CompareCounter DeselectActionComplete = 1;
        ;;	        terminate_monitor;
        ;;	    end_if;
		;;	end_monitor;
		;;	while I_CompareCounter QuickListPressed = 0;
		;;	end_while;
		;;	stop_all_point_at_indicators;
		
		;;	ui_flash_stop quick_list_button;
		;;	set_counter QuickListPressed 0;
		;;	campaign_wait 1;
        ;;    goto labelQListFour_1;
        ;;end_monitor;

		set_counter MediolaniumSelected 0;
		monitor_event SettlementSelected SettlementName Mediolanium;
			strat_selection_unblocker settlement off Segesta;
			ui_flash_stop hud_next_item_cycle;
			set_counter MediolaniumSelected 1;
			;;if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            ;;end_if;
		end_monitor;
		while I_CompareCounter MediolaniumSelected = 0;																	;; Player left-click on the highlighted Settlement
		end_while;
		disable_all_ui_cards construction;
		set_counter MediolaniumSelected 0;
		;;set_label labelQListFour_1;
		campaign_wait 1;
		disable_ui hud_prev_item_cycle;
		disable_ui hud_next_item_cycle;
		disable_ui open_construction_options;
		enable_ui open_recruitement_options;
		strat_selection_unblocker settlement off Segesta;
		ui_flash_start open_recruitement_options;
		monitor_event RecruitmentPopulated TrueCondition;
			ui_flash_stop open_recruitement_options;
			enable_all_ui_cards recruitment;
			ui_flash_start training_card_frame;
		end_monitor;
		monitor_event RecruitmentItemClicked TrueCondition;
			stop_all_point_at_indicators;
			disable_all_ui_cards recruitment;
			disable_ui open_recruitement_options;
			set_counter	LastQuickListItemPressed 1;
			;;set_counter DeselectActionComplete 1;
        	;;force_deselect_trigger;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter LastQuickListItemPressed = 0;
		end_while;
		disable_all_ui_cards recruitment;


		;;monitor_event ItemDeselected TrueCondition;
        ;;    if I_CompareCounter DeselectActionComplete = 1;
        ;;        set_counter DeselectActionComplete 0;
        ;;        terminate_monitor;
        ;;    end_if;
        ;;    set_counter	QuickListPressed 1;
        ;;    goto labelQListFive;
        ;;end_monitor;
        ;;set_label labelQListFive;
		set_counter QuickListPressed 0;
		ui_flash_start quick_list_button;
		monitor_event ButtonPressed ButtonPressed quick_list_button;
			set_counter	QuickListPressed 1;
			;;if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            ;;end_if;
		end_monitor;
		while I_CompareCounter QuickListPressed = 0;
		end_while;
		;;set_counter DeselectActionComplete 1;
        ;;force_deselect_trigger;
		ui_flash_stop quick_list_button;
		disable_ui quick_list_button;
		set_counter QuickListPressed 0;


		campaign_wait 1;
		deselect_current_selection;
		strat_selection_unblocker settlement on Ariminum;
		strat_selection_unblocker settlement off Mediolanium;
		campaign_wait 1;
		force_settlement_tab characters;

		;;Move Assassin and troops
		strat_selection_unblocker settlement on Ariminum;
		spawn_character romans_julii Gnaeus Chaerea, assassin, command 0, influence 0, management 0, subterfuge 3, age 20, x 96, y 82;
		;;move_to_settlement Ariminum;
		;;advance_advice_thread Moving_Troops_1;
		campaign_wait 1;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1.5;
		;;monitor_event ItemDeselected TrueCondition;
        ;;    if I_CompareCounter DeselectActionComplete = 2;
        ;;        set_counter DeselectActionComplete 0;
        ;;        terminate_monitor;
        ;;    end_if;
        ;;    stop_all_point_at_indicators;
        ;;    point_at_settlement slot 0, Ariminum;
        ;;    goto labelTwentyeight;
        ;;end_monitor;
 
        set_label labelTwentyeight;
		move_strat_camera 96, 82;
		point_at_settlement slot 0, Ariminum;
		campaign_wait 1;
		enable_cursor;
		;;settlement_flash_start Ariminum;
		advance_advice_thread Moving_Troops_1_type_b;
		set_counter AriminumSelected 0;
		monitor_event SettlementSelected SettlementName Ariminum;
		;;	if I_CompareCounter DeselectActionComplete = 2;
        ;;        terminate_monitor;
        ;;   end_if;
			set_counter AriminumSelected 1;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter AriminumSelected = 0;																				;; Player left-click on Arretium
		end_while;
		set_counter AriminumSelected 0;																													;; Arretium Overview opens
		stop_all_point_at_indicators;
		disable_ui hud_show_units_tab;
		disable_ui hud_show_buildings_tab;
		disable_ui hud_show_passengers_tab;
		;;settlement_flash_stop Ariminum;
		campaign_wait 1;
		move_strat_camera 98, 80;
		campaign_wait 1;
		inhibit_camera_input false;
		ui_flash_start hud_show_agents_tab;
		enable_ui hud_show_agents_tab;
		monitor_event ButtonPressed ButtonPressed hud_show_agents_tab;
		;;	if I_CompareCounter DeselectActionComplete = 2;
        ;;        terminate_monitor;
        ;;    end_if;
			set_counter AgentTabSelected 1;
			terminate_monitor;
		end_monitor;
		set_counter AgentTabSelected 0;
		while I_CompareCounter AgentTabSelected = 0;
		end_while;
		set_counter AgentTabSelected 0;
		;;disable_ui hud_show_agents_tab;
		ui_flash_stop hud_show_agents_tab;
		campaign_wait 1;
		strat_selection_unblocker character on Gnaeu Chaerea;
		enable_ui_card character, Gnaeu Chaerea;
		point_at_card character, Gnaeu Chaerea;
		while_not I_CharacterSelected Gnaeus Chaerea;
		end_while;

		stop_all_point_at_indicators;
		campaign_wait 1;
		point_at_strat_position, slot 0, 101, 79;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 96, 82;
		restrict_strat_movement romans_julii, 101, 79;
		while_not I_CharacterTypeNearTile romans_julii assassin, 1.45 101,79;
		end_while;

		;;set_counter DeselectActionComplete 2;
		;;force_deselect_trigger;
		campaign_wait 0.1;
		deselect_current_selection;
		strat_selection_unblocker character off Gnaeu Chaerea;
		strat_selection_unblocker character on Quintus Julius;
		;;monitor_event ItemDeselected TrueCondition;
        ;;    if I_CompareCounter DeselectActionComplete = 3;
        ;;        set_counter DeselectActionComplete 0;
        ;;        terminate_monitor;
        ;;    end_if;
        ;;    stop_all_point_at_indicators;
        ;;    point_at_settlement slot 0, Ariminum;
        ;;    goto labelTwentynine;
        ;;end_monitor;
 
        force_settlement_tab units;
		point_at_settlement slot 0, Ariminum;
		campaign_wait 0.1;
		;;set_label labelTwentynine;
		monitor_event SettlementSelected SettlementName Ariminum;
			
		;;	if I_CompareCounter DeselectActionComplete = 3;
        ;;        terminate_monitor;
        ;;    end_if;
			set_counter AriminumSelected 1;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter AriminumSelected = 0;																				;; Player left-click on Arretium
		end_while;
		set_counter AriminumSelected 0;																														;; Arretium Overview opens
		disable_ui hud_show_agents_tab;
		enable_ui hud_show_units_tab;
		ui_flash_start hud_show_units_tab;
		monitor_event ButtonPressed ButtonPressed hud_show_units_tab;
		;;	if I_CompareCounter DeselectActionComplete = 3;
        ;;        terminate_monitor;
        ;;    end_if;
			set_counter	UnitsTabPressed 1;
			terminate_monitor;
		end_monitor;
		while I_CompareCounter UnitsTabPressed = 0;																	;; Player left-click on the highlighted button
		end_while;
		stop_all_point_at_indicators;
		set_counter	UnitsTabPressed 0;
		ui_flash_stop hud_show_units_tab;
		;;strat_selection_unblocker character on Quintus Julius;
		stop_all_point_at_indicators;
		disable_all_ui_cards unit;
		enable_ui_card unit, 0;	
		enable_ui_card unit, 3;	
		enable_ui_card unit, 4;
		enable_ui_card unit, 5;
		point_at_strat_position, slot 0, 101, 79;
		point_at_card unit, slot 1, 0;
		point_at_card unit, slot 2, 3;
		point_at_card unit, slot 3, 4;
		point_at_card unit, slot 4, 5;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 96, 82;
		while_not I_UnitCardSelected roman generals guard cavalry early, 1, roman hastati, 2, roman triarii, 1;
		end_while;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 96, 82;
		restrict_strat_movement romans_julii, 101, 79;
		while_not I_CharacterNameNearTile romans_julii, Quintus Julius, 1.45 101,79;
		end_while;
		;;set_counter DeselectActionComplete 3;
        ;;force_deselect_trigger;
		stop_all_point_at_indicators;
		campaign_wait 1;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1;
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            goto labelThirty;
        end_monitor;
 
        set_label labelThirty;
		move_strat_camera 99, 82;
		point_at_character, slot 0, Quintus Julius;	
		point_at_strat_position, slot 1, 97, 86;
		clear_restrict_strat_movement;
		clear_strat_selection_unblocker;
		strat_selection_unblocker settlement off Patavium;
		strat_selection_unblocker settlement off Arretium;
		strat_selection_unblocker settlement off Ariminum;
		strat_selection_unblocker settlement off Mediolanium;
		;;strat_selection_unblocker settlement off Segesta;
		strat_selection_unblocker settlement on Segesta;
		restrict_strat_movement romans_julii, 101, 79;
		restrict_strat_movement romans_julii, 97, 86;
		campaign_wait 1;
		enable_cursor;
		inhibit_camera_input false;
		while_not I_CharacterTypeNearTile romans_julii admiral, 0.0 97,86;
		end_while;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		deselect_current_selection;
		campaign_wait 1;
		stop_all_point_at_indicators;
		clear_strat_selection_unblocker;
		strat_selection_unblocker character on Gnaeu Chaerea;
		strat_selection_unblocker character on Quintus Julius;
		campaign_wait 1;

		;;New Governor
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            ;;ui_flash_stop hud_show_units_tab;
            stop_all_point_at_indicators;
            point_at_settlement slot 0, Arretium;
            goto labelThirtyone;
        end_monitor;


		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1.5;
		move_strat_camera 91, 80;
		point_at_settlement slot 0, Arretium;
		set_label labelThirtyone;
		advance_advice_thread New_Governor_1_type_b;																						;; Message displayed in Victoria's panel
		campaign_wait 1;
		enable_cursor;
		inhibit_camera_input false;
		strat_selection_unblocker settlement on Arretium;
		set_counter	ArretiumSelected 0;
		monitor_event SettlementSelected SettlementName Arretium;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
			set_counter ArretiumSelected 1;
		end_monitor;

		while I_CompareCounter ArretiumSelected = 0;																				;; Player left-click on Arretium
		end_while;																													;; Arretium Overview opens
		set_counter	ArretiumSelected 0;
		stop_all_point_at_indicators;

		;;campaign_wait 1;
		;;ui_flash_start hud_show_units_tab;
		;;monitor_event ButtonPressed ButtonPressed hud_show_units_tab;
		;;	if I_CompareCounter DeselectActionComplete = 1;
        ;;        terminate_monitor;
        ;;    end_if;
		;;	set_counter	UnitsTabPressed 1;
		;;end_monitor;
		;;while I_CompareCounter UnitsTabPressed = 0;																	;; Player left-click on the highlighted button
		;;end_while;
		;;stop_all_point_at_indicators;
		;;set_counter	UnitsTabPressed 0;
		;;ui_flash_stop hud_show_units_tab;
		disable_all_ui_cards unit;
		enable_ui_card unit, 0;	
		enable_ui_card unit, 1;	
		point_at_card unit, slot 0, Lucius Julius;
		strat_selection_unblocker character on Lucius Julius;
		while_not I_CharacterSelected Lucius Julius;
		end_while;
		move_strat_camera 94, 81;
		stop_all_point_at_indicators;
		campaign_wait 1;
		disable_all_ui_cards unit;
		enable_ui_card unit, 0;	
		enable_ui_card unit, 1;	
		point_at_strat_position, slot 0, 96, 82;
		point_at_card unit, slot 1, Lucius Julius;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 91, 80;
		restrict_strat_movement romans_julii, 96, 82;
		while_not I_CharacterNameNearTile romans_julii, Lucius Julius, 0.0 96, 82;
		end_while;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		stop_all_point_at_indicators;
		campaign_wait 0.2;
		deselect_current_selection;
		disable_ui hud_show_units_tab;
		strat_selection_unblocker settlement off Arretium;
		strat_selection_unblocker settlement off Ariminum;
		strat_selection_unblocker settlement on Rome;
		strat_selection_unblocker character off Lucius Julius;
		while I_AdvisorSpeechPlaying;
    	end_while;




		;;END TURN

		campaign_wait 0.5;
		enable_ui end_turn;
		ui_flash_start end_turn;
		monitor_event ButtonPressed ButtonPressed end_turn;
			set_counter	PressEndTurn 5;
			terminate_monitor;
		end_monitor;


		while I_CompareCounter PressEndTurn = 4;																			;; Player press the End Turn button
		end_while;
		disable_ui end_turn;
		disable_ui stop_tutorial_button;
		ui_flash_stop end_turn;


		monitor_event FactionTurnEnd FactionType romans_julii;
			set_counter isPlayerTurn 0;
		end_monitor;
		while I_IsPlayerTurn = 1;
		end_while;



;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; TURN 6
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


		monitor_event FactionTurnStart FactionType romans_julii;
			set_counter isPlayerTurn 1;
		end_monitor;
		while I_IsPlayerTurn = 0;
		end_while;
		enable_ui stop_tutorial_button;
		disable_ui agent_confirm_button;
		senate_mission_take_city moderate_reward, Patavium;
		campaign_wait 4;
		forced_gate_success on, 100;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1.5;

		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            stop_all_point_at_indicators;
            goto turnSix_one;
        end_monitor;
 
        
        stop_all_point_at_indicators;
		move_strat_camera 84, 92;
		point_at_settlement Mediolanium;
		strat_selection_unblocker settlement on Mediolanium;
		disable_ui hud_show_agents_tab;
		disable_ui hud_show_buildings_tab;
		disable_ui hud_show_units_tab;
		disable_ui hud_show_passengers_tab;

		;;Move Spy from Mediolanium into Patavium
		advance_advice_thread Next_Target_Patavium_1_type_b;																	;; Message displayed in Victoria's panel
		campaign_wait 1;
		enable_cursor;
		force_settlement_tab units;
		set_label turnSix_one;
		point_at_settlement Mediolanium;
		monitor_event SettlementSelected SettlementName Mediolanium;

			set_counter MediolaniumSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter MediolaniumSelected = 0;
		end_while;
		set_counter MediolaniumSelected 0;
		stop_all_point_at_indicators;
		campaign_wait 1;
		zoom_strat_camera 0.4;
		move_strat_camera 89, 90;
		enable_ui hud_show_agents_tab;
		ui_flash_start hud_show_agents_tab;
		set_counter AgentTabSelected 0;
		monitor_event ButtonPressed ButtonPressed hud_show_agents_tab;

			set_counter AgentTabSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;

		while I_CompareCounter AgentTabSelected = 0;
		end_while;
		set_counter AgentTabSelected 0;
		ui_flash_stop hud_show_agents_tab;
		;;disable_ui hud_show_agents_tab;
		campaign_wait 1;
		strat_selection_unblocker character on Decius Curtius;
		enable_ui_card character, Decius Curtius;
		point_at_card character, Decius Curtius;
		while_not I_CharacterSelected Decius Curtius;																	;; Player left-click on the spy
		end_while;
	
		stop_all_point_at_indicators;
		campaign_wait 1;
		point_at_strat_position, slot 0, 94, 90;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 84, 92;
		restrict_strat_movement romans_julii, 94, 90;
		while_not I_CharacterTypeNearTile romans_julii spy, 1.45 94,90;													;; Player right-click on Patavium
		end_while;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		stop_all_point_at_indicators;
		campaign_wait 4;
		move_strat_camera 95, 89;
		zoom_strat_camera 0.2;
		campaign_wait 1;
		inhibit_camera_input false;
		strat_selection_unblocker character off Decius Curtius;


		;;Send Assassin to kill general in Patavium 
		force_settlement_tab characters;
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            stop_all_point_at_indicators;
            point_at_character, slot 0, Quintus Julius;
            goto turnSix_two;
        end_monitor;
 
        set_label turnSix_two;
		advance_advice_thread Use_Of_Assassin_1_type_b;																		;; Message displayed in Victoria's panel
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 97, 86;
		restrict_strat_movement romans_julii, 96, 89;
		clear_strat_selection_unblocker;
		;;point_at_strat_position 97, 86;
		point_at_character, slot 0, Quintus Julius;	
		point_at_strat_position, slot 1, 96, 89;
		while_not I_CharacterTypeNearTile romans_julii admiral, 1.45 96,89;
		end_while;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		stop_all_point_at_indicators;
		campaign_wait 1;
		;;Send Assassin to kill general in Patavium 
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            stop_all_point_at_indicators;
            ui_flash_stop hud_show_agents_tab;
            point_at_character, slot 0, Quintus Julius;
            goto turnSix_three;
        end_monitor;
 
        set_label turnSix_three;
		;;enable_ui hud_show_agents_tab;
		;;ui_flash_start hud_show_agents_tab;
		;;monitor_event ButtonPressed ButtonPressed hud_show_agents_tab;
		;;	set_counter	AgentsTabPressed 1;
		;;	if I_CompareCounter DeselectActionComplete = 1;
        ;;        terminate_monitor;
        ;;    end_if;
		;;end_monitor;
		;;while I_CompareCounter AgentsTabPressed = 0;																	;; Player left-click on the highlighted button
		;;end_while;
		;;set_counter	AgentsTabPressed 0;
		
		;;ui_flash_stop hud_show_agents_tab;
		;;strat_selection_unblocker character on Gnaeu Chaerea;
		enable_ui_card character, Gnaeu Chaerea;
		point_at_card character, Gnaeu Chaerea;
		while_not I_CharacterSelected Gnaeus Chaerea;
		end_while;
		stop_all_point_at_indicators;
		campaign_wait 1;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 97, 86;
		restrict_strat_movement romans_julii, 95, 89;
		point_at_strat_position, slot 0, 95, 89;
		while_not I_CharacterTypeNearTile romans_julii assassin, 0.0 95,89;												;; Player left-click on the assassin
		end_while;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		disable_ui hud_show_agents_tab;
		campaign_wait 1;
		deselect_current_selection;
		force_settlement_tab buildings;
		strat_selection_unblocker character off Decius Curtius;
		campaign_wait 1;
		;;strat_selection_unblocker character off Gnaeu Chaerea;
		strat_selection_unblocker settlement on Patavium;
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            goto turnSix_four;
        end_monitor;
 
        set_label turnSix_four;
		;;settlement_flash_start Patavium;
		point_at_settlement Patavium;																					;; Highlighter around Mediolanium
		monitor_event EnemySettlementSelected SettlementName Patavium;

			set_counter PataviumSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter PataviumSelected = 0;																	;; Player left-click on the highlighted Settlement
		end_while;
		set_counter PataviumSelected 0;
		stop_all_point_at_indicators;
		;;settlement_flash_stop Patavium;
		enable_ui send_agent_button;
		ui_flash_start send_agent_button;
		set_counter SendAgentPressed 0;
		monitor_event ButtonPressed ButtonPressed send_agent_button;													;; Player left-click on Send New Agents button
			ui_flash_stop send_agent_button;
			set_counter SendAgentPressed 1;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		set_counter ListPopulated 0;
		monitor_event AgentListPopulated TrueCondition;
			disable_agent_hub_all Agent;
			enable_agent_hub Agent, Gnaeus Chaerea;
			point_at_agent_hub Agent, Gnaeus Chaerea;
			set_counter ListPopulated 1;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter SendAgentPressed = 0;															;; Player left-click on the highlighted button
		end_while;																								;; Next advice triggered
		set_counter SendAgentPressed 0;
		point_at_agent_hub Agent, Gnaeus Chaerea;

		monitor_event AgentSelected CharacterName Gnaeus Chaerea;
			set_counter GnaeusPressed 1;
			disable_agent_hub_all Mission;
			;;enable_agent_hub Mission 4;
			enable_agent_hub Named_Mission, Assassinate Lugotorix;
			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		while I_CompareCounter GnaeusPressed = 0;															;; Player left-click on the highlighted button
		end_while;																									;; Next advice triggered
		set_counter GnaeusPressed 0;
		disable_agent_hub_all Mission;
		;;enable_agent_hub Mission 4;
		enable_agent_hub Named_Mission, Assassinate Lugotorix;
		;;point_at_agent_hub Mission, 4;
		point_at_agent_hub Named_Mission, Assassinate Lugotorix;
		while I_CompareCounter ListPopulated = 0;
		end_while;


		monitor_event MissionSelected TrueCondition;
			disable_agent_hub_all Mission;
			;;enable_agent_hub Mission 4;
			enable_agent_hub Named_Mission, Assassinate Lugotorix;
		  	enable_ui send_agent_button;
			ui_flash_start send_agent_button;
			set_counter DeselectActionComplete 1;
        	force_deselect_trigger;
			campaign_wait 0.1;
		end_monitor;

		while I_CharacterCanMove Lugotorix;
		end_while;
		campaign_wait 1;
		;;strat_selection_unblocker settlement off Patavium;
		disable_ui send_agent_button;
		disable_ui confirm_agent_button;
		ui_flash_stop confirm_agent_button;
		deselect_current_selection;
		campaign_wait 1;


		;; Landing troops
		
		;;monitor_event ItemDeselected TrueCondition;
        ;;    if I_CompareCounter DeselectActionComplete = 1;
        ;;        set_counter DeselectActionComplete 0;
        ;;        terminate_monitor;
        ;;    end_if;
        ;;    stop_all_point_at_indicators;
        ;;    point_at_character, slot 0, Quintus Julius;
        ;;    goto turnSix_five;
        ;;end_monitor;
 		;;force_settlement_tab units;
        set_label turnSix_five;
		stop_all_point_at_indicators;
		clear_strat_selection_unblocker;
		point_at_character, slot 0, Quintus Julius;
		while_not I_CharacterSelected Quintus Julius;																;; Player left click on the highlighted army
		end_while;
		force_settlement_tab passengers;	
		stop_all_point_at_indicators;
		;;point_at_strat_position, slot 1, 96, 89;
		campaign_wait 1;
		enable_ui hud_show_units_tab;
		ui_flash_start hud_show_units_tab;
		monitor_event ButtonPressed ButtonPressed hud_show_units_tab;
			set_counter	UnitsTabPressed 1;
			;;if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            ;;end_if;
		end_monitor;
		while I_CompareCounter UnitsTabPressed = 0;																	;; Player left-click on the highlighted button
		end_while;
		stop_all_point_at_indicators;
		set_counter	UnitsTabPressed 0;
		ui_flash_stop hud_show_units_tab;
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 97, 86;
		restrict_strat_movement romans_julii, 93, 90;
		disable_all_ui_cards unit;
		enable_ui_card unit, 0;	
		enable_ui_card unit, 1;
		enable_ui_card unit, 2;
		enable_ui_card unit, 3;
		point_at_card unit, slot 1, 0;
		point_at_card unit, slot 2, 1;
		point_at_card unit, slot 3, 2;
		point_at_card unit, slot 4, 3;
		;;while_not I_CharacterSelected Quintus Julius;																;; Player left click on the highlighted army
		;;end_while;
		point_at_strat_position, slot 5, 93, 90;
		;;point_at_card unit, slot 1, 0;
		;;point_at_card unit, slot 2, 1;
		;;point_at_card unit, slot 3, 2;
		;;point_at_card unit, slot 4, 3;
		while_not I_CharacterNameNearTile romans_julii, Quintus Julius, 1.45 93,90;	
		end_while;
		;;set_counter DeselectActionComplete 1;
        ;;force_deselect_trigger;
		;;disable_ui hud_show_units_tab;
		deselect_current_selection;
		stop_all_point_at_indicators;
		campaign_wait 2;

		;;Explain merge armies, send cavalry reinforcements from Mediolanium to Pavatium
		force_settlement_tab units;
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            goto turnSix_six;
        end_monitor;
 
        set_label turnSix_six;
        strat_selection_unblocker settlement on Mediolanium;
		advance_advice_thread Merge_Armies_1_type_b;																			;; Message displayed in Victoria's panel
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 84, 92;
		restrict_strat_movement romans_julii, 93, 90;
		campaign_wait 1;
		move_to_settlement Mediolanium;																					;; Camera pans to Mediolanium

		monitor_event SettlementSelected SettlementName Mediolanium;

			set_counter MediolaniumSelected 1;

			if I_CompareCounter DeselectActionComplete = 1;
                terminate_monitor;
            end_if;
		end_monitor;
		point_at_settlement Mediolanium;
		while I_CompareCounter MediolaniumSelected = 0;
		end_while;
		set_counter MediolaniumSelected 0;
		stop_all_point_at_indicators;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1;
		move_strat_camera 90, 90;
		campaign_wait 1;
		;;point_at_character Decius Curtius;
		enable_cursor;
		inhibit_camera_input false;
		strat_selection_unblocker character on Flavius Julius;
		point_at_strat_position, slot 0, 93, 90;
		disable_all_ui_cards unit;
		enable_ui_card unit, 0;	
		enable_ui_card unit, 5;
		point_at_card unit, slot 1, 0;
		point_at_card unit, slot 2, 5;
		while_not I_CharacterNameNearTile romans_julii, Flavius Julius, 0.0 93,90;
		end_while;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;
		deselect_current_selection;
		campaign_wait 1;
		stop_all_point_at_indicators;
		inhibit_camera_input true;
		disable_cursor;
		campaign_wait 1;
		move_to_settlement Patavium;
		zoom_strat_camera 0.2;
		campaign_wait 1;
		enable_cursor;
		inhibit_camera_input false;


		;;Besiege settlement, explain that Spy has opened gates for you
		monitor_event ItemDeselected TrueCondition;
            if I_CompareCounter DeselectActionComplete = 1;
                set_counter DeselectActionComplete 0;
                terminate_monitor;
            end_if;
            stop_all_point_at_indicators;
            point_at_strat_position, slot 1, 94, 90;
            goto turnSix_seven;
        end_monitor;
 
        set_label turnSix_seven;
		advance_advice_thread The_Gates_Are_Open_1_type_b;																		;; Message displayed in Victoria's panel
		campaign_wait 2;
		point_at_character, slot 0, Flavius Julius;	
		while_not I_CharacterSelected Flavius Julius;																;; Player left click on the highlighted army
		end_while;	
		stop_all_point_at_indicators;
		point_at_strat_position, slot 1, 94, 90;																						;; Highlighter around Patavium army																		
		clear_restrict_strat_movement;
		restrict_strat_movement romans_julii, 93, 90;
		restrict_strat_movement romans_julii, 94, 90;
		set_counter DeselectActionComplete 1;
        force_deselect_trigger;




		;;Introduce and use autoresolve battle (explain when not to autoresolve)

		monitor_event ScrollOpened ScrollOpened seige_scroll;															;; Siege Details screan opens
			enable_ui strat_ui;
			enable_ui campaign_hud;
			enable_ui siege_assault_button;
			disable_ui siege_maintain_button;
			disable_ui siege_end_button;
			disable_ui siege_equipment_icon_ram;
			disable_ui siege_equipment_icon_ladder;
			disable_ui siege_equipment_icon_siege_tower;
			disable_ui siege_equipment_icon_sap_points;
			stop_all_point_at_indicators;
			;;settlement_flash_stop Patavium;
			ui_flash_start siege_assault_button;
			terminate_monitor;
		end_monitor;

		monitor_event ButtonPressed ButtonPressed siege_assault_button;

		set_counter AssaultButtonPressed 1;

			terminate_monitor;
		end_monitor;

		ui_flash_start siege_assault_button;
		while I_CompareCounter AssaultButtonPressed = 0;																;; Player left-click the Assualt button
		end_while;

		set_counter AssaultButtonPressed 0;

		monitor_event ScrollOpened ScrollOpened prebattle_scroll;
			enable_ui prebattle_auto_resolve_button;
			disable_ui prebattle_fight_button;
			disable_ui prebattle_withdraw_button;
			ui_flash_stop siege_assault_button;
			ui_flash_start prebattle_auto_resolve_button;										;; Highlighter around Auto-resolve button
			advance_advice_thread Auto_Resolve_1_type_b;												;; Message displayed in Victoria's panel
			terminate_monitor;
		end_monitor;

		monitor_event ButtonPressed ButtonPressed prebattle_auto_resolve_button;

		set_counter FightButtonPressed 1;

			terminate_monitor;
		end_monitor;

		while I_CompareCounter FightButtonPressed = 0;
		end_while;
		set_counter FightButtonPressed 0;

		monitor_event ButtonPressed ButtonPressed post_battle_stats_show_results_button;

			set_counter PataviumResultButtonPressed 1;

			terminate_monitor;
		end_monitor;

		monitor_event ScrollOpened ScrollOpened post_battle_scroll;								;; Victory screen opens
			enable_ui post_battle_scroll;
			enable_ui post_battle_stats_show_results_button;

			ui_flash_start post_battle_stats_show_results_button;
			terminate_monitor;
		end_monitor;

		while I_CompareCounter PataviumResultButtonPressed = 0;
		end_while;

		ui_flash_stop post_battle_stats_show_results_button;
		ui_flash_stop conditions_complete_quit_button;
		campaign_wait 2;
		

		while I_CompareCounter PataviumCaptured = 0;
		end_while;
		monitor_event ButtonPressed ButtonPressed loot_settlement_occupy_button;

			set_counter OccupyButtonPressed 1;

			terminate_monitor;
		end_monitor;
		monitor_event ButtonPressed ButtonPressed loot_settlement_enslave_button;

			set_counter OccupyButtonPressed 1;

			terminate_monitor;
		end_monitor;
		monitor_event ButtonPressed ButtonPressed loot_settlement_extermintate_button;

			set_counter OccupyButtonPressed 1;

			terminate_monitor;
		end_monitor;
		monitor_event ScrollOpened ScrollOpened loot_settlement_scroll;
			
			enable_ui loot_settlement_occupy_button;
			disable_ui loot_settlement_enslave_button;
			disable_ui loot_settlement_extermintate_button;
			ui_flash_start loot_settlement_occupy_button;																			;; Message displayed in Victoria's panel
			terminate_monitor;
		end_monitor;
		while I_CompareCounter OccupyButtonPressed = 0;																			;; Player left-click on the Enslave button
		end_while;
		ui_flash_stop loot_settlement_occupy_button;
		campaign_wait 1;
		deselect_current_selection;
		campaign_wait 1;
		
		advance_advice_thread End_Of_Tutorial_1;												;; Message displayed in Victoria's panel
		stop_all_point_at_indicators;
		
		;;End of tutorial
		enable_ui end_turn;
		ui_flash_start end_turn;
		monitor_event ButtonPressed ButtonPressed end_turn;
			set_counter	PressEndTurn 6;
			terminate_monitor;
		end_monitor;


		while I_CompareCounter PressEndTurn = 5;
		end_while;
		ui_flash_stop end_turn;

		monitor_event FactionTurnEnd FactionType romans_julii;
			set_counter isPlayerTurn 0;
		end_monitor;
		while I_IsPlayerTurn = 1;
		end_while;


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;									THE END OF THE SCRIPT
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

		enable_entire_ui;
		suspend_unscripted_advice false;
		inhibit_camera_input false;
		disable_shortcuts false;
		clear_restrict_strat_movement;
		clear_strat_selection_unblocker;
		set_marriage_allowed on;
		force_autoresolve_outcome no;
		force_agent_succeed no;
		force_diplomacy accept, no;
		ai_active_set on;
		terminate_prologue end_of_tutorial;
		terminate_script;
;;end_if;

;;;;*************************************************************************************************
;;;; ADVANCED TUTORIAL ENDS
;;;;*************************************************************************************************
	;;end_if;


		
;;end_if;